"use strict";(function(){angular.module('app',['app.core','app.widgets','app.layout','app.myMultiSkillGroup','app.master','app.masterScore','app.proficiencyconfig','app.roleSpecialization','app.process','angular.filter','ui.harmonize','directiveModule'])}());(function(){angular.module('blocks.exception',['blocks.logger'])})();(function(){angular.module('blocks.logger',[])})();(function(){angular.module('blocks.router',['ui.router','blocks.logger'])})();(function(){angular.module('app.core',['ngAnimate','ngSanitize','blocks.exception','blocks.logger','blocks.router','ui.router','ngplus','ngDialog','toastr','AdalAngular']);var core=angular.module('app.core')})();angular.module("ui.harmonize",["ui.harmonize.tpls","ui.harmonize.collapse","ui.harmonize.accordion","ui.harmonize.alert","ui.harmonize.bindHtml","ui.harmonize.buttons","ui.harmonize.carousel","ui.harmonize.dateparser","ui.harmonize.position","ui.harmonize.datepicker","ui.harmonize.dropdown","ui.harmonize.menu","ui.harmonize.modal","ui.harmonize.pagination","ui.harmonize.tooltip","ui.harmonize.popover","ui.harmonize.progressbar","ui.harmonize.rating","ui.harmonize.tabs","ui.harmonize.timepicker","ui.harmonize.transition","ui.harmonize.typeahead"]);angular.module("ui.harmonize.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/menu/menu-item.html","template/menu/menu.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]);angular.module('ui.harmonize.collapse',[]).directive('collapse',['$animate',function($animate){return{link:function(scope,element,attrs){function expand(){element.removeClass('collapse').addClass('collapsing');$animate.addClass(element,'in',{to:{height:element[0].scrollHeight+'px'}}).then(expandDone)}function expandDone(){element.removeClass('collapsing');element.css({height:'auto'})}function collapse(){element.css({height:element[0].scrollHeight+'px'}).removeClass('collapse').addClass('collapsing');$animate.removeClass(element,'in',{to:{height:'0'}}).then(collapseDone)}function collapseDone(){element.css({height:'0'});element.removeClass('collapsing');element.addClass('collapse')}scope.$watch(attrs.collapse,function(shouldCollapse){if(shouldCollapse){collapse()}else{expand()}})}}}]);angular.module('ui.harmonize.accordion',['ui.harmonize.collapse']).constant('accordionConfig',{closeOthers:true}).controller('AccordionController',['$scope','$attrs','accordionConfig',function($scope,$attrs,accordionConfig){this.groups=[];this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;if(closeOthers){angular.forEach(this.groups,function(group){"use strict";if(group!==openGroup){group.isOpen=false}})}};this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope);groupScope.$on('$destroy',function(event){that.removeGroup(groupScope)})};this.removeGroup=function(group){var index=this.groups.indexOf(group);if(index!==-1){this.groups.splice(index,1)}}}]).directive('accordion',function(){return{restrict:'EA',controller:'AccordionController',transclude:true,replace:false,templateUrl:'template/accordion/accordion.html'}}).directive('accordionGroup',function(){return{require:'^accordion',restrict:'EA',transclude:true,replace:true,templateUrl:'template/accordion/accordion-group.html',scope:{heading:'@',isOpen:'=?',isDisabled:'=?'},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope);scope.$watch('isOpen',function(value){if(value){accordionCtrl.closeOthers(scope)}});scope.toggleOpen=function(){if(!scope.isDisabled){scope.isOpen=!scope.isOpen}}}}}).directive('accordionHeading',function(){return{restrict:'EA',transclude:true,template:'',replace:true,require:'^accordionGroup',link:function(scope,element,attr,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,angular.noop))}}}).directive('accordionTransclude',function(){return{require:'^accordionGroup',link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){if(heading){element.html('');element.append(heading)}})}}});angular.module('ui.harmonize.alert',[]).controller('AlertController',['$scope','$attrs',function($scope,$attrs){$scope.closeable='close'in $attrs;this.close=$scope.close}]).directive('alert',function(){return{restrict:'EA',controller:'AlertController',templateUrl:'template/alert/alert.html',transclude:true,replace:true,scope:{type:'@',close:'&'}}}).directive('dismissOnTimeout',['$timeout',function($timeout){return{require:'alert',link:function(scope,element,attrs,alertCtrl){$timeout(function(){alertCtrl.close()},parseInt(attrs.dismissOnTimeout,10))}}}]);angular.module('ui.harmonize.bindHtml',[]).directive('bindHtmlUnsafe',function(){return function(scope,element,attr){element.addClass('ng-binding').data('$binding',attr.bindHtmlUnsafe);scope.$watch(attr.bindHtmlUnsafe,function bindHtmlUnsafeWatchAction(value){element.html(value||'')})}});angular.module('ui.harmonize.buttons',[]).constant('buttonConfig',{activeClass:'active',toggleEvent:'click'}).controller('ButtonsController',['buttonConfig',function(buttonConfig){this.activeClass=buttonConfig.activeClass||'active';this.toggleEvent=buttonConfig.toggleEvent||'click'}]).directive('btnRadio',function(){return{require:['btnRadio','ngModel'],controller:'ButtonsController',link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.btnRadio)))};element.bind(buttonsCtrl.toggleEvent,function(){var isActive=element.hasClass(buttonsCtrl.activeClass);if(!isActive||angular.isDefined(attrs.uncheckable)){scope.$apply(function(){"use strict";ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.btnRadio));ngModelCtrl.$render()})}})}}}).directive('btnCheckbox',function(){return{require:['btnCheckbox','ngModel'],controller:'ButtonsController',link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,true)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,false)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))};element.bind(buttonsCtrl.toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue());ngModelCtrl.$render()})})}}});angular.module('ui.harmonize.carousel',[]).controller('CarouselController',['$scope','$element','$interval','$animate',function($scope,$element,$interval,$animate){var self=this,slides=self.slides=$scope.slides=[],NO_TRANSITION='uib-noTransition',SLIDE_DIRECTION='uib-slideDirection',currentIndex=-1,currentInterval,isPlaying;self.currentSlide=null;var destroyed=false;self.select=$scope.select=function(nextSlide,direction){var nextIndex=self.indexOfSlide(nextSlide);if(direction===undefined){direction=nextIndex>self.getCurrentIndex()?'next':'prev'}if(nextSlide&&nextSlide!==self.currentSlide&&!$scope.$currentTransition){goNext(nextSlide,nextIndex,direction)}};function goNext(slide,index,direction){if(destroyed){return}angular.extend(slide,{direction:direction,active:true});angular.extend(self.currentSlide||{},{direction:direction,active:false});if($animate.enabled()&&!$scope.noTransition&&!$scope.$currentTransition&&slide.$element){slide.$element.data(SLIDE_DIRECTION,slide.direction);$scope.$currentTransition=true;slide.$element.one('$animate:close',function closeFn(){$scope.$currentTransition=null})}self.currentSlide=slide;currentIndex=index;restartTimer()}$scope.$on('$destroy',function(){destroyed=true});function getSlideByIndex(index){if(angular.isUndefined(slides[index].index)){return slides[index]}var i,len=slides.length;for(i=0;i<slides.length;++i){if(slides[i].index==index){return slides[i]}}}self.getCurrentIndex=function(){if(self.currentSlide&&angular.isDefined(self.currentSlide.index)){return+self.currentSlide.index}return currentIndex};self.indexOfSlide=function(slide){return angular.isDefined(slide.index)?+slide.index:slides.indexOf(slide)};$scope.next=function(){var newIndex=(self.getCurrentIndex()+1)%slides.length;if(newIndex===0&&$scope.noWrap()){$scope.pause();return}return self.select(getSlideByIndex(newIndex),'next')};$scope.prev=function(){var newIndex=self.getCurrentIndex()-1<0?slides.length-1:self.getCurrentIndex()-1;if($scope.noWrap()&&newIndex===slides.length-1){$scope.pause();return}return self.select(getSlideByIndex(newIndex),'prev')};$scope.isActive=function(slide){return self.currentSlide===slide};$scope.$watch('interval',restartTimer);$scope.$on('$destroy',resetTimer);function restartTimer(){resetTimer();var interval=+$scope.interval;if(!isNaN(interval)&&interval>0){currentInterval=$interval(timerFn,interval)}}function resetTimer(){if(currentInterval){$interval.cancel(currentInterval);currentInterval=null}}function timerFn(){var interval=+$scope.interval;if(isPlaying&&!isNaN(interval)&&interval>0&&slides.length){$scope.next()}else{$scope.pause()}}$scope.play=function(){if(!isPlaying){isPlaying=true;restartTimer()}};$scope.pause=function(){if(!$scope.noPause){isPlaying=false;resetTimer()}};self.addSlide=function(slide,element){slide.$element=element;slides.push(slide);if(slides.length===1||slide.active){self.select(slides[slides.length-1]);if(slides.length==1){$scope.play()}}else{slide.active=false}};self.removeSlide=function(slide){if(angular.isDefined(slide.index)){slides.sort(function(a,b){"use strict";return+a.index>+b.index})}var index=slides.indexOf(slide);slides.splice(index,1);if(slides.length>0&&slide.active){if(index>=slides.length){self.select(slides[index-1])}else{self.select(slides[index])}}else if(currentIndex>index){currentIndex--}};$scope.$watch('noTransition',function(noTransition){$element.data(NO_TRANSITION,noTransition)})}]).directive('carousel',[function(){return{restrict:'EA',transclude:true,replace:true,controller:'CarouselController',require:'carousel',templateUrl:'template/carousel/carousel.html',scope:{interval:'=',noTransition:'=',noPause:'=',noWrap:'&'}}}]).directive('slide',function(){return{require:'^carousel',restrict:'EA',transclude:true,replace:true,templateUrl:'template/carousel/slide.html',scope:{active:'=?',index:'=?'},link:function(scope,element,attrs,carouselCtrl){carouselCtrl.addSlide(scope,element);scope.$on('$destroy',function(){carouselCtrl.removeSlide(scope)});scope.$watch('active',function(active){if(active){carouselCtrl.select(scope)}})}}}).animation('.item',['$animate',function($animate){var NO_TRANSITION='uib-noTransition',SLIDE_DIRECTION='uib-slideDirection';return{beforeAddClass:function(element,className,done){if(className=='active'&&element.parent()&&!element.parent().data(NO_TRANSITION)){var stopped=false;var direction=element.data(SLIDE_DIRECTION);var directionClass=direction=='next'?'left':'right';element.addClass(direction);$animate.addClass(element,directionClass).then(function(){"use strict";if(!stopped){element.removeClass(directionClass+' '+direction)}done()});return function(){"use strict";stopped=true}}done()},beforeRemoveClass:function(element,className,done){if(className=='active'&&element.parent()&&!element.parent().data(NO_TRANSITION)){var stopped=false;var direction=element.data(SLIDE_DIRECTION);var directionClass=direction=='next'?'left':'right';$animate.addClass(element,directionClass).then(function(){"use strict";if(!stopped){element.removeClass(directionClass)}done()});return function(){"use strict";stopped=true}}done()}}}]);angular.module('ui.harmonize.dateparser',[]).service('dateParser',['$locale','orderByFilter',function($locale,orderByFilter){var SPECIAL_CHARACTERS_REGEXP=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var formatCodeToRegex={yyyy:{regex:'\\d{4}',apply:function(value){this.year=+value}},yy:{regex:'\\d{2}',apply:function(value){this.year=+value+2000}},y:{regex:'\\d{1,4}',apply:function(value){this.year=+value}},MMMM:{regex:$locale.DATETIME_FORMATS.MONTH.join('|'),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value)}},MMM:{regex:$locale.DATETIME_FORMATS.SHORTMONTH.join('|'),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)}},MM:{regex:'0[1-9]|1[0-2]',apply:function(value){this.month=value-1}},M:{regex:'[1-9]|1[0-2]',apply:function(value){this.month=value-1}},dd:{regex:'[0-2][0-9]{1}|3[0-1]{1}',apply:function(value){this.date=+value}},d:{regex:'[1-2]?[0-9]{1}|3[0-1]{1}',apply:function(value){this.date=+value}},EEEE:{regex:$locale.DATETIME_FORMATS.DAY.join('|')},EEE:{regex:$locale.DATETIME_FORMATS.SHORTDAY.join('|')},HH:{regex:'(?:0|1)[0-9]|2[0-3]',apply:function(value){this.hours=+value}},H:{regex:'1?[0-9]|2[0-3]',apply:function(value){this.hours=+value}},mm:{regex:'[0-5][0-9]',apply:function(value){this.minutes=+value}},m:{regex:'[0-9]|[1-5][0-9]',apply:function(value){this.minutes=+value}},sss:{regex:'[0-9][0-9][0-9]',apply:function(value){this.milliseconds=+value}},ss:{regex:'[0-5][0-9]',apply:function(value){this.seconds=+value}},s:{regex:'[0-9]|[1-5][0-9]',apply:function(value){this.seconds=+value}}};function createParser(format){var map=[],regex=format.split('');angular.forEach(formatCodeToRegex,function(data,code){var index=format.indexOf(code);if(index>-1){format=format.split('');regex[index]='('+data.regex+')';format[index]='$';for(var i=index+1,n=index+code.length;i<n;i++){regex[i]='';format[i]='$'}format=format.join('');map.push({index:index,apply:data.apply})}});return{regex:new RegExp('^'+regex.join('')+'$'),map:orderByFilter(map,'index')}}this.parse=function(input,format,baseDate){if(!angular.isString(input)||!format){return input}format=$locale.DATETIME_FORMATS[format]||format;format=format.replace(SPECIAL_CHARACTERS_REGEXP,'\\$&');if(!this.parsers[format]){this.parsers[format]=createParser(format)}var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex);if(results&&results.length){var fields,dt;if(baseDate){fields={year:baseDate.getFullYear(),month:baseDate.getMonth(),date:baseDate.getDate(),hours:baseDate.getHours(),minutes:baseDate.getMinutes(),seconds:baseDate.getSeconds(),milliseconds:baseDate.getMilliseconds()}}else{fields={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}}for(var i=1,n=results.length;i<n;i++){var mapper=map[i-1];if(mapper.apply){mapper.apply.call(fields,results[i])}}if(isValid(fields.year,fields.month,fields.date)){dt=new Date(fields.year,fields.month,fields.date,fields.hours,fields.minutes,fields.seconds,fields.milliseconds||0)}return dt}};function isValid(year,month,date){if(date<1){return false}if(month===1&&date>28){return date===29&&((year%4===0&&year%100!==0)||year%400===0)}if(month===3||month===5||month===8||month===10){return date<31}return true}}]);angular.module('ui.harmonize.position',[]).factory('$position',['$document','$window',function($document,$window){function getStyle(el,cssprop){if(el.currentStyle){return el.currentStyle[cssprop]}else if($window.getComputedStyle){return $window.getComputedStyle(el)[cssprop]}return el.style[cssprop]}function isStaticPositioned(element){return(getStyle(element,'position')||'static')==='static'}var parentOffsetEl=function(element){var docDomEl=$document[0];var offsetParent=element.offsetParent||docDomEl;while(offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent)){offsetParent=offsetParent.offsetParent}return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element);var offsetParentBCR={top:0,left:0};var offsetParentEl=parentOffsetEl(element[0]);if(offsetParentEl!=$document[0]){offsetParentBCR=this.offset(angular.element(offsetParentEl));offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop;offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft}var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop('offsetWidth'),height:boundingClientRect.height||element.prop('offsetHeight'),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop('offsetWidth'),height:boundingClientRect.height||element.prop('offsetHeight'),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var positionStrParts=positionStr.split('-');var pos0=positionStrParts[0],pos1=positionStrParts[1]||'center';var hostElPos,targetElWidth,targetElHeight,targetElPos;hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl);targetElWidth=targetEl.prop('offsetWidth');targetElHeight=targetEl.prop('offsetHeight');var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}};var shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case'right':targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case'left':targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case'bottom':targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()};break}return targetElPos}}}]);angular.module('ui.harmonize.datepicker',['ui.harmonize.dateparser','ui.harmonize.position']).constant('datepickerConfig',{formatDay:'dd',formatMonth:'MMMM',formatYear:'yyyy',formatDayHeader:'EEE',formatDayTitle:'MMMM yyyy',formatMonthTitle:'yyyy',datepickerMode:'day',minMode:'day',maxMode:'year',showWeeks:true,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:false}).controller('DatepickerController',['$scope','$attrs','$parse','$interpolate','$timeout','$log','dateFilter','datepickerConfig',function($scope,$attrs,$parse,$interpolate,$timeout,$log,dateFilter,datepickerConfig){var self=this,ngModelCtrl={$setViewValue:angular.noop};this.modes=['day','month','year'];angular.forEach(['formatDay','formatMonth','formatYear','formatDayHeader','formatDayTitle','formatMonthTitle','minMode','maxMode','showWeeks','startingDay','yearRange','shortcutPropagation'],function(key,index){self[key]=angular.isDefined($attrs[key])?(index<8?$interpolate($attrs[key])($scope.$parent):$scope.$parent.$eval($attrs[key])):datepickerConfig[key]});angular.forEach(['minDate','maxDate'],function(key){if($attrs[key]){$scope.$parent.$watch($parse($attrs[key]),function(value){"use strict";self[key]=value?new Date(value):null;self.refreshView()})}else{self[key]=datepickerConfig[key]?new Date(datepickerConfig[key]):null}});$scope.datepickerMode=$scope.datepickerMode||datepickerConfig.datepickerMode;$scope.maxMode=self.maxMode;$scope.uniqueId='datepicker-'+$scope.$id+'-'+Math.floor(Math.random()*10000);if(angular.isDefined($attrs.initDate)){this.activeDate=$scope.$parent.$eval($attrs.initDate)||new Date;$scope.$parent.$watch($attrs.initDate,function(initDate){"use strict";if(initDate&&(ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue)||ngModelCtrl.$invalid)){self.activeDate=initDate;self.refreshView()}})}else{this.activeDate=new Date}$scope.isActive=function(dateObject){if(self.compare(dateObject.date,self.activeDate)===0){$scope.activeDateId=dateObject.uid;return true}return false};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=function(){self.render()}};this.render=function(){if(ngModelCtrl.$viewValue){var date=new Date(ngModelCtrl.$viewValue),isValid=!isNaN(date);if(isValid){this.activeDate=date}else{$log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}ngModelCtrl.$setValidity('date',isValid)}this.refreshView()};this.refreshView=function(){if(this.element){this._refreshView();var date=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;ngModelCtrl.$setValidity('date-disabled',!date||(this.element&&!this.isDisabled(date)))}};this.createDateObject=function(date,format){var model=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;return{date:date,label:dateFilter(date,format),selected:model&&this.compare(date,model)===0,disabled:this.isDisabled(date),current:this.compare(date,new Date)===0,customClass:this.customClass(date)}};this.isDisabled=function(date){return((this.minDate&&this.compare(date,this.minDate)<0)||(this.maxDate&&this.compare(date,this.maxDate)>0)||($attrs.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode})))};this.customClass=function(date){return $scope.customClass({date:date,mode:$scope.datepickerMode})};this.split=function(arr,size){var arrays=[];while(arr.length>0){arrays.push(arr.splice(0,size))}return arrays};$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());ngModelCtrl.$setViewValue(dt);ngModelCtrl.$render()}else{self.activeDate=date;$scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)-1]}};$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1);self.refreshView()};$scope.toggleMode=function(direction){direction=direction||1;if(($scope.datepickerMode===self.maxMode&&direction===1)||($scope.datepickerMode===self.minMode&&direction===-1)){return}$scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)+direction]};$scope.keys={13:'enter',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down'};var focusElement=function(){$timeout(function(){self.element[0].focus()},0,false)};$scope.$on('datepicker.focus',focusElement);$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(!key||evt.shiftKey||evt.altKey){return}evt.preventDefault();if(!self.shortcutPropagation){evt.stopPropagation()}if(key==='enter'||key==='space'){if(self.isDisabled(self.activeDate)){return}$scope.select(self.activeDate);focusElement()}else if(evt.ctrlKey&&(key==='up'||key==='down')){$scope.toggleMode(key==='up'?1:-1);focusElement()}else{self.handleKeyDown(key,evt);self.refreshView()}}}]).directive('datepicker',function(){return{restrict:'EA',replace:true,templateUrl:'template/datepicker/datepicker.html',scope:{datepickerMode:'=?',dateDisabled:'&',customClass:'&',shortcutPropagation:'&?'},require:['datepicker','?^ngModel'],controller:'DatepickerController',link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){datepickerCtrl.init(ngModelCtrl)}}}}).directive('daypicker',['dateFilter',function(dateFilter){return{restrict:'EA',replace:true,templateUrl:'template/datepicker/day.html',require:'^datepicker',link:function(scope,element,attrs,ctrl){scope.showWeeks=ctrl.showWeeks;ctrl.step={months:1};ctrl.element=element;var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];function getDaysInMonth(year,month){return((month===1)&&(year%4===0)&&((year%100!==0)||(year%400===0)))?29:DAYS_IN_MONTH[month]}function getDates(startDate,n){var dates=new Array(n),current=new Date(startDate),i=0;current.setHours(12);while(i<n){dates[i++]=new Date(current);current.setDate(current.getDate()+1)}return dates}ctrl._refreshView=function(){var year=ctrl.activeDate.getFullYear(),month=ctrl.activeDate.getMonth(),firstDayOfMonth=new Date(year,month,1),difference=ctrl.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=(difference>0)?7-difference:-difference,firstDate=new Date(firstDayOfMonth);if(numDisplayedFromPreviousMonth>0){firstDate.setDate(-numDisplayedFromPreviousMonth+1)}var days=getDates(firstDate,42);for(var i=0;i<42;i++){days[i]=angular.extend(ctrl.createDateObject(days[i],ctrl.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+'-'+i})}scope.labels=new Array(7);for(var j=0;j<7;j++){scope.labels[j]={abbr:dateFilter(days[j].date,ctrl.formatDayHeader),full:dateFilter(days[j].date,'EEEE')}}scope.title=dateFilter(ctrl.activeDate,ctrl.formatDayTitle);scope.rows=ctrl.split(days,7);if(scope.showWeeks){scope.weekNumbers=[];var thursdayIndex=(4+7-ctrl.startingDay)%7,numWeeks=scope.rows.length;for(var curWeek=0;curWeek<numWeeks;curWeek++){scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date))}}};ctrl.compare=function(date1,date2){return(new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate()))};function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1}ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getDate();if(key==='left'){date=date-1}else if(key==='up'){date=date-7}else if(key==='right'){date=date+1}else if(key==='down'){date=date+7}else if(key==='pageup'||key==='pagedown'){var month=ctrl.activeDate.getMonth()+(key==='pageup'?-1:1);ctrl.activeDate.setMonth(month,1);date=Math.min(getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()),date)}else if(key==='home'){date=1}else if(key==='end'){date=getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth())}ctrl.activeDate.setDate(date)};ctrl.refreshView()}}}]).directive('monthpicker',['dateFilter',function(dateFilter){return{restrict:'EA',replace:true,templateUrl:'template/datepicker/month.html',require:'^datepicker',link:function(scope,element,attrs,ctrl){ctrl.step={years:1};ctrl.element=element;ctrl._refreshView=function(){var months=new Array(12),year=ctrl.activeDate.getFullYear();for(var i=0;i<12;i++){months[i]=angular.extend(ctrl.createDateObject(new Date(year,i,1),ctrl.formatMonth),{uid:scope.uniqueId+'-'+i})}scope.title=dateFilter(ctrl.activeDate,ctrl.formatMonthTitle);scope.rows=ctrl.split(months,3)};ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth())-new Date(date2.getFullYear(),date2.getMonth())};ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getMonth();if(key==='left'){date=date-1}else if(key==='up'){date=date-3}else if(key==='right'){date=date+1}else if(key==='down'){date=date+3}else if(key==='pageup'||key==='pagedown'){var year=ctrl.activeDate.getFullYear()+(key==='pageup'?-1:1);ctrl.activeDate.setFullYear(year)}else if(key==='home'){date=0}else if(key==='end'){date=11}ctrl.activeDate.setMonth(date)};ctrl.refreshView()}}}]).directive('yearpicker',['dateFilter',function(dateFilter){return{restrict:'EA',replace:true,templateUrl:'template/datepicker/year.html',require:'^datepicker',link:function(scope,element,attrs,ctrl){var range=ctrl.yearRange;ctrl.step={years:range};ctrl.element=element;function getStartingYear(year){return parseInt((year-1)/range,10)*range+1}ctrl._refreshView=function(){var years=new Array(range);for(var i=0,start=getStartingYear(ctrl.activeDate.getFullYear());i<range;i++){years[i]=angular.extend(ctrl.createDateObject(new Date(start+i,0,1),ctrl.formatYear),{uid:scope.uniqueId+'-'+i})}scope.title=[years[0].label,years[range-1].label].join(' - ');scope.rows=ctrl.split(years,5)};ctrl.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear()};ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getFullYear();if(key==='left'){date=date-1}else if(key==='up'){date=date-5}else if(key==='right'){date=date+1}else if(key==='down'){date=date+5}else if(key==='pageup'||key==='pagedown'){date+=(key==='pageup'?-1:1)*ctrl.step.years}else if(key==='home'){date=getStartingYear(ctrl.activeDate.getFullYear())}else if(key==='end'){date=getStartingYear(ctrl.activeDate.getFullYear())+range-1}ctrl.activeDate.setFullYear(date)};ctrl.refreshView()}}}]).constant('datepickerPopupConfig',{datepickerPopup:'yyyy-MM-dd',html5Types:{date:'yyyy-MM-dd','datetime-local':'yyyy-MM-ddTHH:mm:ss.sss',month:'yyyy-MM'},currentText:'Today',clearText:'Clear',closeText:'Done',closeOnDateSelection:true,appendToBody:false,showButtonBar:true}).directive('datepickerPopup',['$compile','$parse','$document','$position','dateFilter','dateParser','datepickerPopupConfig',function($compile,$parse,$document,$position,dateFilter,dateParser,datepickerPopupConfig){return{restrict:'EA',require:'ngModel',scope:{isOpen:'=?',currentText:'@',clearText:'@',closeText:'@',dateDisabled:'&',customClass:'&'},link:function(scope,element,attrs,ngModel){var dateFormat,closeOnDateSelection=angular.isDefined(attrs.closeOnDateSelection)?scope.$parent.$eval(attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined(attrs.datepickerAppendToBody)?scope.$parent.$eval(attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;scope.showButtonBar=angular.isDefined(attrs.showButtonBar)?scope.$parent.$eval(attrs.showButtonBar):datepickerPopupConfig.showButtonBar;scope.getText=function(key){return scope[key+'Text']||datepickerPopupConfig[key+'Text']};var isHtml5DateInput=false;if(datepickerPopupConfig.html5Types[attrs.type]){dateFormat=datepickerPopupConfig.html5Types[attrs.type];isHtml5DateInput=true}else{dateFormat=attrs.datepickerPopup||datepickerPopupConfig.datepickerPopup;attrs.$observe('datepickerPopup',function(value,oldValue){"use strict";var newDateFormat=value||datepickerPopupConfig.datepickerPopup;if(newDateFormat!==dateFormat){dateFormat=newDateFormat;ngModel.$modelValue=null;if(!dateFormat){throw new Error('datepickerPopup must have a date format specified.');}}})}if(!dateFormat){throw new Error('datepickerPopup must have a date format specified.');}if(isHtml5DateInput&&attrs.datepickerPopup){throw new Error('HTML5 date input types do not support custom formats.');}var popupEl=angular.element('<div datepicker-popup-wrap><div datepicker></div></div>');popupEl.attr({'ng-model':'date','ng-change':'dateSelection()'});function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return'-'+$1.toLowerCase()})}var datepickerEl=angular.element(popupEl.children()[0]);if(isHtml5DateInput){if(attrs.type=='month'){datepickerEl.attr('datepicker-mode','"month"');datepickerEl.attr('min-mode','month')}}if(attrs.datepickerOptions){var options=scope.$parent.$eval(attrs.datepickerOptions);if(options.initDate){scope.initDate=options.initDate;datepickerEl.attr('init-date','initDate');delete options.initDate}angular.forEach(options,function(value,option){"use strict";datepickerEl.attr(cameltoDash(option),value)})}scope.watchData={};angular.forEach(['minDate','maxDate','datepickerMode','initDate','shortcutPropagation'],function(key){if(attrs[key]){var getAttribute=$parse(attrs[key]);scope.$parent.$watch(getAttribute,function(value){"use strict";scope.watchData[key]=value});datepickerEl.attr(cameltoDash(key),'watchData.'+key);if(key==='datepickerMode'){var setAttribute=getAttribute.assign;scope.$watch('watchData.'+key,function(value,oldvalue){"use strict";if(angular.isFunction(setAttribute)&&value!==oldvalue){setAttribute(scope.$parent,value)}})}}});if(attrs.dateDisabled){datepickerEl.attr('date-disabled','dateDisabled({ date: date, mode: mode })')}if(attrs.showWeeks){datepickerEl.attr('show-weeks',attrs.showWeeks)}if(attrs.customClass){datepickerEl.attr('custom-class','customClass({ date: date, mode: mode })')}function parseDate(viewValue){if(angular.isNumber(viewValue)){viewValue=new Date(viewValue)}if(!viewValue){return null}else if(angular.isDate(viewValue)&&!isNaN(viewValue)){return viewValue}else if(angular.isString(viewValue)){var date=dateParser.parse(viewValue,dateFormat,scope.date)||new Date(viewValue);if(isNaN(date)){return undefined}else{return date}}else{return undefined}}function validator(modelValue,viewValue){var value=modelValue||viewValue;if(angular.isNumber(value)){value=new Date(value)}if(!value){return true}else if(angular.isDate(value)&&!isNaN(value)){return true}else if(angular.isString(value)){var date=dateParser.parse(value,dateFormat)||new Date(value);return!isNaN(date)}else{return false}}if(!isHtml5DateInput){ngModel.$$parserName='date';ngModel.$validators.date=validator;ngModel.$parsers.unshift(parseDate);ngModel.$formatters.push(function(value){"use strict";scope.date=value;return ngModel.$isEmpty(value)?value:dateFilter(value,dateFormat)})}else{ngModel.$formatters.push(function(value){"use strict";scope.date=value;return value})}scope.dateSelection=function(dt){if(angular.isDefined(dt)){scope.date=dt}var date=scope.date?dateFilter(scope.date,dateFormat):'';element.val(date);ngModel.$setViewValue(date);if(closeOnDateSelection){scope.isOpen=false;element[0].focus()}};ngModel.$viewChangeListeners.push(function(){scope.date=dateParser.parse(ngModel.$viewValue,dateFormat,scope.date)||new Date(ngModel.$viewValue)});var documentClickBind=function(event){if(scope.isOpen&&event.target!==element[0]){scope.$apply(function(){"use strict";scope.isOpen=false})}};var keydown=function(evt,noApply){scope.keydown(evt)};element.bind('keydown',keydown);scope.keydown=function(evt){if(evt.which===27){evt.preventDefault();if(scope.isOpen){evt.stopPropagation()}scope.close()}else if(evt.which===40&&!scope.isOpen){scope.isOpen=true}};scope.$watch('isOpen',function(value){if(value){scope.$broadcast('datepicker.focus');scope.position=appendToBody?$position.offset(element):$position.position(element);scope.position.top=scope.position.top+element.prop('offsetHeight');$document.bind('click',documentClickBind)}else{$document.unbind('click',documentClickBind)}});scope.select=function(date){if(date==='today'){var today=new Date;if(angular.isDate(scope.date)){date=new Date(scope.date);date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate())}else{date=new Date(today.setHours(0,0,0,0))}}scope.dateSelection(date)};scope.close=function(){scope.isOpen=false;element[0].focus()};var $popup=$compile(popupEl)(scope);popupEl.remove();if(appendToBody){$document.find('body').append($popup)}else{element.after($popup)}scope.$on('$destroy',function(){$popup.remove();element.unbind('keydown',keydown);$document.unbind('click',documentClickBind)})}}}]).directive('datepickerPopupWrap',function(){return{restrict:'EA',replace:true,transclude:true,templateUrl:'template/datepicker/popup.html',link:function(scope,element,attrs){element.bind('click',function(event){event.preventDefault();event.stopPropagation()})}}});angular.module('ui.harmonize.dropdown',['ui.harmonize.position']).constant('dropdownConfig',{openClass:'open'}).service('dropdownService',['$document','$rootScope',function($document,$rootScope){var openScope=null;this.open=function(dropdownScope){if(!openScope){$document.bind('click',closeDropdown);$document.bind('keydown',keybindFilter)}if(openScope&&openScope!==dropdownScope){openScope.isOpen=false}openScope=dropdownScope};this.close=function(dropdownScope){if(openScope===dropdownScope){openScope=null;$document.unbind('click',closeDropdown);$document.unbind('keydown',keybindFilter)}};var closeDropdown=function(evt){if(!openScope){return}if(evt&&openScope.getAutoClose()==='disabled'){return}var toggleElement=openScope.getToggleElement();if(evt&&toggleElement&&toggleElement[0].contains(evt.target)){return}var $element=openScope.getElement();if(evt&&openScope.getAutoClose()==='outsideClick'&&$element&&$element[0].contains(evt.target)){return}openScope.isOpen=false;if(!$rootScope.$$phase){openScope.$apply()}};var keybindFilter=function(evt){if(evt.which===27){openScope.focusToggleElement();closeDropdown()}else if(openScope.isKeynavEnabled()&&/(38|40)/.test(evt.which)&&openScope.isOpen){evt.preventDefault();evt.stopPropagation();openScope.focusDropdownEntry(evt.which)}}}]).controller('DropdownController',['$scope','$attrs','$parse','dropdownConfig','dropdownService','$animate','$position','$document','$compile','$templateRequest',function($scope,$attrs,$parse,dropdownConfig,dropdownService,$animate,$position,$document,$compile,$templateRequest){var self=this,scope=$scope.$new(),templateScope,openClass=dropdownConfig.openClass,getIsOpen,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop,appendToBody=false,keynavEnabled=false,selectedOption=null;this.init=function(element){self.$element=element;if($attrs.isOpen){getIsOpen=$parse($attrs.isOpen);setIsOpen=getIsOpen.assign;$scope.$watch(getIsOpen,function(value){"use strict";scope.isOpen=!!value})}appendToBody=angular.isDefined($attrs.dropdownAppendToBody);keynavEnabled=angular.isDefined($attrs.keyboardNav);if(appendToBody&&self.dropdownMenu){$document.find('body').append(self.dropdownMenu);element.on('$destroy',function handleDestroyEvent(){self.dropdownMenu.remove()})}};this.toggle=function(open){return scope.isOpen=arguments.length?!!open:!scope.isOpen};this.isOpen=function(){return scope.isOpen};scope.getToggleElement=function(){return self.toggleElement};scope.getAutoClose=function(){return $attrs.autoClose||'always'};scope.getElement=function(){return self.$element};scope.isKeynavEnabled=function(){return keynavEnabled};scope.focusDropdownEntry=function(keyCode){var elems=self.dropdownMenu?(angular.element(self.dropdownMenu).find('a')):(angular.element(self.$element).find('ul').eq(0).find('a'));switch(keyCode){case(40):{if(!angular.isNumber(self.selectedOption)){self.selectedOption=0}else{self.selectedOption=(self.selectedOption===elems.length-1?self.selectedOption:self.selectedOption+1)}break}case(38):{if(!angular.isNumber(self.selectedOption)){return}else{self.selectedOption=(self.selectedOption===0?0:self.selectedOption-1)}break}}elems[self.selectedOption].focus()};scope.focusToggleElement=function(){if(self.toggleElement){self.toggleElement[0].focus()}};scope.$watch('isOpen',function(isOpen,wasOpen){if(appendToBody&&self.dropdownMenu){var pos=$position.positionElements(self.$element,self.dropdownMenu,'bottom-left',true);self.dropdownMenu.css({top:pos.top+'px',left:pos.left+'px',display:isOpen?'block':'none'})}$animate[isOpen?'addClass':'removeClass'](self.$element,openClass);if(isOpen){if(self.dropdownMenuTemplateUrl){$templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent){"use strict";templateScope=scope.$new();$compile(tplContent.trim())(templateScope,function(dropdownElement){var newEl=dropdownElement;self.dropdownMenu.replaceWith(newEl);self.dropdownMenu=newEl})})}scope.focusToggleElement();dropdownService.open(scope)}else{if(self.dropdownMenuTemplateUrl){if(templateScope){templateScope.$destroy()}var newEl=angular.element('<ul class="dropdown-menu"></ul>');self.dropdownMenu.replaceWith(newEl);self.dropdownMenu=newEl}dropdownService.close(scope);self.selectedOption=null}setIsOpen($scope,isOpen);if(angular.isDefined(isOpen)&&isOpen!==wasOpen){toggleInvoker($scope,{open:!!isOpen})}});$scope.$on('$locationChangeSuccess',function(){if(scope.getAutoClose()!=='disabled'){scope.isOpen=false}});$scope.$on('$destroy',function(){scope.$destroy()})}]).directive('dropdown',function(){return{controller:'DropdownController',link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init(element)}}}).directive('dropdownMenu',function(){return{restrict:'AC',require:'?^dropdown',link:function(scope,element,attrs,dropdownCtrl){if(!dropdownCtrl){return}var tplUrl=attrs.templateUrl;if(tplUrl){dropdownCtrl.dropdownMenuTemplateUrl=tplUrl}if(!dropdownCtrl.dropdownMenu){dropdownCtrl.dropdownMenu=element}}}}).directive('keyboardNav',function(){return{restrict:'A',require:'?^dropdown',link:function(scope,element,attrs,dropdownCtrl){element.bind('keydown',function(e){if(/(38|40)/.test(e.which)){e.preventDefault();e.stopPropagation();var elems=angular.element(element).find('a');switch(e.keyCode){case(40):{if(!angular.isNumber(dropdownCtrl.selectedOption)){dropdownCtrl.selectedOption=0}else{dropdownCtrl.selectedOption=(dropdownCtrl.selectedOption===elems.length-1?dropdownCtrl.selectedOption:dropdownCtrl.selectedOption+1)}}break;case(38):{dropdownCtrl.selectedOption=(dropdownCtrl.selectedOption===0?0:dropdownCtrl.selectedOption-1)}break}elems[dropdownCtrl.selectedOption].focus()}})}}}).directive('dropdownToggle',function(){return{require:'?^dropdown',link:function(scope,element,attrs,dropdownCtrl){if(!dropdownCtrl){return}dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault();if(!element.hasClass('disabled')&&!attrs.disabled){scope.$apply(function(){"use strict";dropdownCtrl.toggle()})}};element.bind('click',toggleDropdown);element.attr({'aria-haspopup':true,'aria-expanded':false});scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr('aria-expanded',!!isOpen)});scope.$on('$destroy',function(){element.unbind('click',toggleDropdown)})}}});var app=angular.module('ui.harmonize.menu',[]).controller('MenuController',['$scope','$rootScope',function($scope,$rootScope){$scope.visible=false;$rootScope.bodyClass='left-menu';$scope.close=function(){$scope.visible=false;$rootScope.bodyClass='left-menu'};$scope.show=function(e){$scope.visible=true;$rootScope.bodyClass='left-menu body-left';e.stopPropagation()};$rootScope.$on('escapePressed',_close);$rootScope.$on('menuClose',_close);$rootScope.$on('menuToggle',function(e){_toggle(e)});function _close(){$scope.$apply(function(){$scope.close()})}function _toggle(e){if($scope.visible){$scope.close()}else{$scope.show(e)}}}]).directive('menu',function(){return{restrict:'E',template:'<div class="left" ng-class="{show: visible}" ng-transclude></div>',transclude:true,controller:'MenuController',scope:{visible:'=',alignment:'@'}}}).directive('menu-item',function(){return{restrict:'E',template:'<div ng-click="navigate()" ng-transclude></div>',transclude:true,scope:{hash:'@'},link:function($scope){$scope.navigate=function(){window.location.hash=$scope.hash}}}}).run(function($rootScope){document.addEventListener('keyup',function(e){if(e.keyCode===27){$rootScope.$broadcast('escapePressed',e.target)}})});angular.module('ui.harmonize.modal',[]).factory('$$stackedMap',function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++){if(key==stack[i].key){return stack[i]}}},keys:function(){var keys=[];for(var i=0;i<stack.length;i++){keys.push(stack[i].key)}return keys},top:function(){return stack[stack.length-1]},remove:function(key){var idx=-1;for(var i=0;i<stack.length;i++){if(key==stack[i].key){idx=i;break}}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}).directive('modalBackdrop',['$timeout',function($timeout){return{restrict:'EA',replace:true,templateUrl:'template/modal/backdrop.html',compile:function(tElement,tAttrs){tElement.addClass(tAttrs.backdropClass);return linkFn}};function linkFn(scope,element,attrs){scope.animate=false;$timeout(function(){scope.animate=true})}}]).directive('modalWindow',['$modalStack','$q',function($modalStack,$q){return{restrict:'EA',scope:{index:'@',animate:'='},replace:true,transclude:true,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||'template/modal/window.html'},link:function(scope,element,attrs){element.addClass(attrs.windowClass||'');scope.size=attrs.size;scope.close=function(evt){var modal=$modalStack.getTop();if(modal&&modal.value.backdrop&&modal.value.backdrop!='static'&&(evt.target===evt.currentTarget)){evt.preventDefault();evt.stopPropagation();$modalStack.dismiss(modal.key,'backdrop click')}};scope.$isRendered=true;var modalRenderDeferObj=$q.defer();attrs.$observe('modalRender',function(value){if(value=='true'){modalRenderDeferObj.resolve()}});modalRenderDeferObj.promise.then(function(){scope.animate=true;var inputsWithAutofocus=element[0].querySelectorAll('[autofocus]');if(inputsWithAutofocus.length){inputsWithAutofocus[0].focus()}else{element[0].focus()}var modal=$modalStack.getTop();if(modal){$modalStack.modalRendered(modal.key)}})}}}]).directive('modalAnimationClass',[function(){return{compile:function(tElement,tAttrs){if(tAttrs.modalAnimation){tElement.addClass(tAttrs.modalAnimationClass)}}}}]).directive('modalTransclude',function(){return{link:function($scope,$element,$attrs,controller,$transclude){$transclude($scope.$parent,function(clone){$element.empty();$element.append(clone)})}}}).factory('$modalStack',['$animate','$timeout','$document','$compile','$rootScope','$$stackedMap',function($animate,$timeout,$document,$compile,$rootScope,$$stackedMap){var OPENED_MODAL_CLASS='modal-open';var backdropDomEl,backdropScope;var openedWindows=$$stackedMap.createNew();var $modalStack={};function backdropIndex(){var topBackdropIndex=-1;var opened=openedWindows.keys();for(var i=0;i<opened.length;i++){if(openedWindows.get(opened[i]).value.backdrop){topBackdropIndex=i}}return topBackdropIndex}$rootScope.$watch(backdropIndex,function(newBackdropIndex){if(backdropScope){backdropScope.index=newBackdropIndex}});function removeModalWindow(modalInstance,elementToReceiveFocus){var body=$document.find('body').eq(0);var modalWindow=openedWindows.get(modalInstance).value;openedWindows.remove(modalInstance);removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,function(){body.toggleClass(OPENED_MODAL_CLASS,openedWindows.length()>0);checkRemoveBackdrop()});if(elementToReceiveFocus&&elementToReceiveFocus.focus){elementToReceiveFocus.focus()}else{body.focus()}}function checkRemoveBackdrop(){if(backdropDomEl&&backdropIndex()==-1){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,function(){"use strict";backdropScopeRef=null});backdropDomEl=undefined;backdropScope=undefined}}function removeAfterAnimate(domEl,scope,done){scope.animate=false;if(domEl.attr('modal-animation')&&$animate.enabled()){domEl.one('$animate:close',function closeFn(){$rootScope.$evalAsync(afterAnimating)})}else{$timeout(afterAnimating)}function afterAnimating(){if(afterAnimating.done){return}afterAnimating.done=true;domEl.remove();scope.$destroy();if(done){done()}}}$document.bind('keydown',function(evt){var modal;if(evt.which===27){modal=openedWindows.top();if(modal&&modal.value.keyboard){evt.preventDefault();$rootScope.$apply(function(){"use strict";$modalStack.dismiss(modal.key,'escape key press')})}}});$modalStack.open=function(modalInstance,modal){var modalOpener=$document[0].activeElement;openedWindows.add(modalInstance,{deferred:modal.deferred,renderDeferred:modal.renderDeferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard});var body=$document.find('body').eq(0),currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(true);backdropScope.index=currBackdropIndex;var angularBackgroundDomEl=angular.element('<div modal-backdrop="modal-backdrop"></div>');angularBackgroundDomEl.attr('backdrop-class',modal.backdropClass);if(modal.animation){angularBackgroundDomEl.attr('modal-animation','true')}backdropDomEl=$compile(angularBackgroundDomEl)(backdropScope);body.append(backdropDomEl)}var angularDomEl=angular.element('<div modal-window="modal-window"></div>');angularDomEl.attr({'template-url':modal.windowTemplateUrl,'window-class':modal.windowClass,size:modal.size,index:openedWindows.length()-1,animate:'animate'}).html(modal.content);if(modal.animation){angularDomEl.attr('modal-animation','true')}var modalDomEl=$compile(angularDomEl)(modal.scope);openedWindows.top().value.modalDomEl=modalDomEl;openedWindows.top().value.modalOpener=modalOpener;body.append(modalDomEl);body.addClass(OPENED_MODAL_CLASS)};function broadcastClosing(modalWindow,resultOrReason,closing){return!modalWindow.value.modalScope.$broadcast('modal.closing',resultOrReason,closing).defaultPrevented}$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);if(modalWindow&&broadcastClosing(modalWindow,result,true)){modalWindow.value.deferred.resolve(result);removeModalWindow(modalInstance,modalWindow.value.modalOpener);return true}return!modalWindow};$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);if(modalWindow&&broadcastClosing(modalWindow,reason,false)){modalWindow.value.deferred.reject(reason);removeModalWindow(modalInstance,modalWindow.value.modalOpener);return true}return!modalWindow};$modalStack.dismissAll=function(reason){var topModal=this.getTop();while(topModal&&this.dismiss(topModal.key,reason)){topModal=this.getTop()}};$modalStack.getTop=function(){return openedWindows.top()};$modalStack.modalRendered=function(modalInstance){var modalWindow=openedWindows.get(modalInstance);if(modalWindow){modalWindow.value.renderDeferred.resolve()}};return $modalStack}]).provider('$modal',function(){var $modalProvider={options:{animation:true,backdrop:true,keyboard:true},$get:['$injector','$rootScope','$q','$templateRequest','$controller','$modalStack',function($injector,$rootScope,$q,$templateRequest,$controller,$modalStack){var $modal={};function getTemplatePromise(options){return options.template?$q.when(options.template):$templateRequest(angular.isFunction(options.templateUrl)?(options.templateUrl)():options.templateUrl)}function getResolvePromises(resolves){var promisesArr=[];angular.forEach(resolves,function(value){if(angular.isFunction(value)||angular.isArray(value)){promisesArr.push($q.when($injector.invoke(value)))}});return promisesArr}$modal.open=function(modalOptions){var modalResultDeferred=$q.defer();var modalOpenedDeferred=$q.defer();var modalRenderDeferred=$q.defer();var modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,rendered:modalRenderDeferred.promise,close:function(result){return $modalStack.close(modalInstance,result)},dismiss:function(reason){return $modalStack.dismiss(modalInstance,reason)}};modalOptions=angular.extend({},$modalProvider.options,modalOptions);modalOptions.resolve=modalOptions.resolve||{};if(!modalOptions.template&&!modalOptions.templateUrl){throw new Error('One of template or templateUrl options is required.');}var templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));templateAndResolvePromise.then(function resolveSuccess(tplAndVars){var modalScope=(modalOptions.scope||$rootScope).$new();modalScope.$close=modalInstance.close;modalScope.$dismiss=modalInstance.dismiss;var ctrlInstance,ctrlLocals={};var resolveIter=1;if(modalOptions.controller){ctrlLocals.$scope=modalScope;ctrlLocals.$modalInstance=modalInstance;angular.forEach(modalOptions.resolve,function(value,key){"use strict";ctrlLocals[key]=tplAndVars[resolveIter++]});ctrlInstance=$controller(modalOptions.controller,ctrlLocals);if(modalOptions.controllerAs){modalScope[modalOptions.controllerAs]=ctrlInstance}}$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,renderDeferred:modalRenderDeferred,content:tplAndVars[0],animation:modalOptions.animation,backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,size:modalOptions.size})},function resolveError(reason){modalResultDeferred.reject(reason)});templateAndResolvePromise.then(function(){modalOpenedDeferred.resolve(true)},function(reason){modalOpenedDeferred.reject(reason)});return modalInstance};return $modal}]};return $modalProvider});angular.module('ui.harmonize.pagination',[]).controller('PaginationController',['$scope','$attrs','$parse',function($scope,$attrs,$parse){var self=this,ngModelCtrl={$setViewValue:angular.noop},setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;this.init=function(ngModelCtrl_,config){ngModelCtrl=ngModelCtrl_;this.config=config;ngModelCtrl.$render=function(){self.render()};if($attrs.itemsPerPage){$scope.$parent.$watch($parse($attrs.itemsPerPage),function(value){"use strict";self.itemsPerPage=parseInt(value,10);$scope.totalPages=self.calculateTotalPages()})}else{this.itemsPerPage=config.itemsPerPage}$scope.$watch('totalItems',function(){$scope.totalPages=self.calculateTotalPages()});$scope.$watch('totalPages',function(value){setNumPages($scope.$parent,value);if($scope.page>value){$scope.selectPage(value)}else{ngModelCtrl.$render()}})};this.calculateTotalPages=function(){var totalPages=this.itemsPerPage<1?1:Math.ceil($scope.totalItems/this.itemsPerPage);return Math.max(totalPages||0,1)};this.render=function(){$scope.page=parseInt(ngModelCtrl.$viewValue,10)||1};$scope.selectPage=function(page,evt){if($scope.page!==page&&page>0&&page<=$scope.totalPages){if(evt&&evt.target){evt.target.blur()}ngModelCtrl.$setViewValue(page);ngModelCtrl.$render()}};$scope.getText=function(key){return $scope[key+'Text']||self.config[key+'Text']};$scope.noPrevious=function(){return $scope.page===1};$scope.noNext=function(){return $scope.page===$scope.totalPages}}]).constant('paginationConfig',{itemsPerPage:10,boundaryLinks:false,directionLinks:true,firstText:'First',previousText:'Previous',nextText:'Next',lastText:'Last',rotate:true}).directive('pagination',['$parse','paginationConfig',function($parse,paginationConfig){return{restrict:'EA',scope:{totalItems:'=',firstText:'@',previousText:'@',nextText:'@',lastText:'@'},require:['pagination','?ngModel'],controller:'PaginationController',templateUrl:'template/pagination/pagination.html',replace:true,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl){return}var maxSize=angular.isDefined(attrs.maxSize)?scope.$parent.$eval(attrs.maxSize):paginationConfig.maxSize,rotate=angular.isDefined(attrs.rotate)?scope.$parent.$eval(attrs.rotate):paginationConfig.rotate;scope.boundaryLinks=angular.isDefined(attrs.boundaryLinks)?scope.$parent.$eval(attrs.boundaryLinks):paginationConfig.boundaryLinks;scope.directionLinks=angular.isDefined(attrs.directionLinks)?scope.$parent.$eval(attrs.directionLinks):paginationConfig.directionLinks;paginationCtrl.init(ngModelCtrl,paginationConfig);if(attrs.maxSize){scope.$parent.$watch($parse(attrs.maxSize),function(value){"use strict";maxSize=parseInt(value,10);paginationCtrl.render()})}function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[];var startPage=1,endPage=totalPages;var isMaxSized=(angular.isDefined(maxSize)&&maxSize<totalPages);if(isMaxSized){if(rotate){startPage=Math.max(currentPage-Math.floor(maxSize/2),1);endPage=startPage+maxSize-1;if(endPage>totalPages){endPage=totalPages;startPage=endPage-maxSize+1}}else{startPage=((Math.ceil(currentPage/maxSize)-1)*maxSize)+1;endPage=Math.min(startPage+maxSize-1,totalPages)}}for(var number=startPage;number<=endPage;number++){var page=makePage(number,number,number===currentPage);pages.push(page)}if(isMaxSized&&!rotate){if(startPage>1){var previousPageSet=makePage(startPage-1,'...',false);pages.unshift(previousPageSet)}if(endPage<totalPages){var nextPageSet=makePage(endPage+1,'...',false);pages.push(nextPageSet)}}return pages}var originalRender=paginationCtrl.render;paginationCtrl.render=function(){originalRender();if(scope.page>0&&scope.page<=scope.totalPages){scope.pages=getPages(scope.page,scope.totalPages)}}}}}]).constant('pagerConfig',{itemsPerPage:10,previousText:'? Previous',nextText:'Next ?',align:true}).directive('pager',['pagerConfig',function(pagerConfig){return{restrict:'EA',scope:{totalItems:'=',previousText:'@',nextText:'@'},require:['pager','?ngModel'],controller:'PaginationController',templateUrl:'template/pagination/pager.html',replace:true,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl){return}scope.align=angular.isDefined(attrs.align)?scope.$parent.$eval(attrs.align):pagerConfig.align;paginationCtrl.init(ngModelCtrl,pagerConfig)}}}]);angular.module('ui.harmonize.tooltip',['ui.harmonize.position','ui.harmonize.bindHtml']).provider('$tooltip',function(){var defaultOptions={placement:'top',animation:true,popupDelay:0,useContentExp:false};var triggerMap={mouseenter:'mouseleave',click:'click',focus:'blur'};var globalOptions={};this.options=function(value){angular.extend(globalOptions,value)};this.setTriggers=function setTriggers(triggers){angular.extend(triggerMap,triggers)};function snake_case(name){var regexp=/[A-Z]/g;var separator='-';return name.replace(regexp,function(letter,pos){return(pos?separator:'')+letter.toLowerCase()})}this.$get=['$window','$compile','$timeout','$document','$position','$interpolate',function($window,$compile,$timeout,$document,$position,$interpolate){return function $tooltip(type,prefix,defaultTriggerShow,options){options=angular.extend({},defaultOptions,globalOptions,options);function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow;var hide=triggerMap[show]||show;return{show:show,hide:hide}}var directiveName=snake_case(type);var startSym=$interpolate.startSymbol();var endSym=$interpolate.endSymbol();var template='<div '+directiveName+'-popup '+'title="'+startSym+'title'+endSym+'" '+(options.useContentExp?'content-exp="contentExp()" ':'content="'+startSym+'content'+endSym+'" ')+'placement="'+startSym+'placement'+endSym+'" '+'popup-class="'+startSym+'popupClass'+endSym+'" '+'animation="animation" '+'is-open="isOpen"'+'origin-scope="origScope" '+'>'+'</div>';return{restrict:'EA',compile:function(tElem,tAttrs){var tooltipLinker=$compile(template);return function link(scope,element,attrs,tooltipCtrl){var tooltip;var tooltipLinkedScope;var transitionTimeout;var popupTimeout;var appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:false;var triggers=getTriggers(undefined);var hasEnableExp=angular.isDefined(attrs[prefix+'Enable']);var ttScope=scope.$new(true);var positionTooltip=function(){if(!tooltip){return}var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);ttPosition.top+='px';ttPosition.left+='px';tooltip.css(ttPosition)};ttScope.origScope=scope;ttScope.isOpen=false;function toggleTooltipBind(){if(!ttScope.isOpen){showTooltipBind()}else{hideTooltipBind()}}function showTooltipBind(){if(hasEnableExp&&!scope.$eval(attrs[prefix+'Enable'])){return}prepareTooltip();if(ttScope.popupDelay){if(!popupTimeout){popupTimeout=$timeout(show,ttScope.popupDelay,false);popupTimeout.then(function(reposition){"use strict";reposition()})}}else{show()()}}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){popupTimeout=null;if(transitionTimeout){$timeout.cancel(transitionTimeout);transitionTimeout=null}if(!(options.useContentExp?ttScope.contentExp():ttScope.content)){return angular.noop}createTooltip();tooltip.css({top:0,left:0,display:'block'});ttScope.$digest();positionTooltip();ttScope.isOpen=true;ttScope.$apply();return positionTooltip}function hide(){ttScope.isOpen=false;$timeout.cancel(popupTimeout);popupTimeout=null;if(ttScope.animation){if(!transitionTimeout){transitionTimeout=$timeout(removeTooltip,500)}}else{removeTooltip()}}function createTooltip(){if(tooltip){removeTooltip()}tooltipLinkedScope=ttScope.$new();tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){if(appendToBody){$document.find('body').append(tooltip)}else{element.after(tooltip)}});tooltipLinkedScope.$watch(function(){$timeout(positionTooltip,0,false)});if(options.useContentExp){tooltipLinkedScope.$watch('contentExp()',function(val){"use strict";if(!val&&ttScope.isOpen){hide()}})}}function removeTooltip(){transitionTimeout=null;if(tooltip){tooltip.remove();tooltip=null}if(tooltipLinkedScope){tooltipLinkedScope.$destroy();tooltipLinkedScope=null}}function prepareTooltip(){prepPopupClass();prepPlacement();prepPopupDelay()}ttScope.contentExp=function(){return scope.$eval(attrs[type])};if(!options.useContentExp){attrs.$observe(type,function(val){"use strict";ttScope.content=val;if(!val&&ttScope.isOpen){hide()}})}attrs.$observe('disabled',function(val){if(val&&ttScope.isOpen){hide()}});attrs.$observe(prefix+'Title',function(val){ttScope.title=val});function prepPopupClass(){ttScope.popupClass=attrs[prefix+'Class']}function prepPlacement(){var val=attrs[prefix+'Placement'];ttScope.placement=angular.isDefined(val)?val:options.placement}function prepPopupDelay(){var val=attrs[prefix+'PopupDelay'];var delay=parseInt(val,10);ttScope.popupDelay=!isNaN(delay)?delay:options.popupDelay}var unregisterTriggers=function(){element.unbind(triggers.show,showTooltipBind);element.unbind(triggers.hide,hideTooltipBind)};function prepTriggers(){var val=attrs[prefix+'Trigger'];unregisterTriggers();triggers=getTriggers(val);if(triggers.show===triggers.hide){element.bind(triggers.show,toggleTooltipBind)}else{element.bind(triggers.show,showTooltipBind);element.bind(triggers.hide,hideTooltipBind)}}prepTriggers();var animation=scope.$eval(attrs[prefix+'Animation']);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal=scope.$eval(attrs[prefix+'AppendToBody']);appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody;if(appendToBody){scope.$on('$locationChangeSuccess',function closeTooltipOnLocationChangeSuccess(){if(ttScope.isOpen){hide()}})}scope.$on('$destroy',function onDestroyTooltip(){$timeout.cancel(transitionTimeout);$timeout.cancel(popupTimeout);unregisterTriggers();removeTooltip();ttScope=null})}}}}}]}).directive('tooltipTemplateTransclude',['$animate','$sce','$compile','$templateRequest',function($animate,$sce,$compile,$templateRequest){return{link:function(scope,elem,attrs){var origScope=scope.$eval(attrs.tooltipTemplateTranscludeScope);var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){$animate.leave(currentElement).then(function(){"use strict";previousElement=null});previousElement=currentElement;currentElement=null}};scope.$watch($sce.parseAsResourceUrl(attrs.tooltipTemplateTransclude),function(src){var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){"use strict";if(thisChangeId!==changeCounter){return}var newScope=origScope.$new();var template=response;var clone=$compile(template)(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,elem)});currentScope=newScope;currentElement=clone;currentScope.$emit('$includeContentLoaded',src)},function(){"use strict";if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit('$includeContentError',src)}});scope.$emit('$includeContentRequested',src)}else{cleanupLastIncludeContent()}});scope.$on('$destroy',cleanupLastIncludeContent)}}}]).directive('tooltipClasses',function(){return{restrict:'A',link:function(scope,element,attrs){if(scope.placement){element.addClass(scope.placement)}if(scope.popupClass){element.addClass(scope.popupClass)}if(scope.animation()){element.addClass(attrs.tooltipAnimationClass)}}}}).directive('tooltipPopup',function(){return{restrict:'EA',replace:true,scope:{content:'@',placement:'@',popupClass:'@',animation:'&',isOpen:'&'},templateUrl:'template/tooltip/tooltip-popup.html'}}).directive('tooltip',['$tooltip',function($tooltip){return $tooltip('tooltip','tooltip','mouseenter')}]).directive('tooltipTemplatePopup',function(){return{restrict:'EA',replace:true,scope:{contentExp:'&',placement:'@',popupClass:'@',animation:'&',isOpen:'&',originScope:'&'},templateUrl:'template/tooltip/tooltip-template-popup.html'}}).directive('tooltipTemplate',['$tooltip',function($tooltip){return $tooltip('tooltipTemplate','tooltip','mouseenter',{useContentExp:true})}]).directive('tooltipHtmlPopup',function(){return{restrict:'EA',replace:true,scope:{contentExp:'&',placement:'@',popupClass:'@',animation:'&',isOpen:'&'},templateUrl:'template/tooltip/tooltip-html-popup.html'}}).directive('tooltipHtml',['$tooltip',function($tooltip){return $tooltip('tooltipHtml','tooltip','mouseenter',{useContentExp:true})}]).directive('tooltipHtmlUnsafePopup',function(){return{restrict:'EA',replace:true,scope:{content:'@',placement:'@',popupClass:'@',animation:'&',isOpen:'&'},templateUrl:'template/tooltip/tooltip-html-unsafe-popup.html'}}).value('tooltipHtmlUnsafeSuppressDeprecated',false).directive('tooltipHtmlUnsafe',['$tooltip','tooltipHtmlUnsafeSuppressDeprecated','$log',function($tooltip,tooltipHtmlUnsafeSuppressDeprecated,$log){if(!tooltipHtmlUnsafeSuppressDeprecated){$log.warn('tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead.')}return $tooltip('tooltipHtmlUnsafe','tooltip','mouseenter')}]);angular.module('ui.harmonize.popover',['ui.harmonize.tooltip']).directive('popoverTemplatePopup',function(){return{restrict:'EA',replace:true,scope:{title:'@',contentExp:'&',placement:'@',popupClass:'@',animation:'&',isOpen:'&',originScope:'&'},templateUrl:'template/popover/popover-template.html'}}).directive('popoverTemplate',['$tooltip',function($tooltip){return $tooltip('popoverTemplate','popover','click',{useContentExp:true})}]).directive('popoverPopup',function(){return{restrict:'EA',replace:true,scope:{title:'@',content:'@',placement:'@',popupClass:'@',animation:'&',isOpen:'&'},templateUrl:'template/popover/popover.html'}}).directive('popover',['$tooltip',function($tooltip){return $tooltip('popover','popover','click')}]);angular.module('ui.harmonize.progressbar',[]).constant('progressConfig',{animate:true,max:100}).controller('ProgressController',['$scope','$attrs','progressConfig',function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[];$scope.max=angular.isDefined($scope.max)?$scope.max:progressConfig.max;this.addBar=function(bar,element){if(!animate){element.css({transition:'none'})}this.bars.push(bar);bar.max=$scope.max;bar.$watch('value',function(value){bar.recalculatePercentage()});bar.recalculatePercentage=function(){bar.percent=+(100*bar.value/bar.max).toFixed(2)};bar.$on('$destroy',function(){element=null;self.removeBar(bar)})};this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1)};$scope.$watch('max',function(max){self.bars.forEach(function(bar){bar.max=$scope.max;bar.recalculatePercentage()})})}]).directive('progress',function(){return{restrict:'EA',replace:true,transclude:true,controller:'ProgressController',require:'progress',scope:{max:'=?'},templateUrl:'template/progressbar/progress.html'}}).directive('bar',function(){return{restrict:'EA',replace:true,transclude:true,require:'^progress',scope:{value:'=',type:'@'},templateUrl:'template/progressbar/bar.html',link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element)}}}).directive('progressbar',function(){return{restrict:'EA',replace:true,transclude:true,controller:'ProgressController',scope:{value:'=',max:'=?',type:'@'},templateUrl:'template/progressbar/progressbar.html',link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]))}}});angular.module('ui.harmonize.rating',[]).constant('ratingConfig',{max:5,stateOn:null,stateOff:null}).controller('RatingController',['$scope','$attrs','ratingConfig',function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=this.render;ngModelCtrl.$formatters.push(function(value){if(angular.isNumber(value)&&value<<0!==value){value=Math.round(value)}return value});this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn;this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates)};this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++){states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff},states[i])}return states};$scope.rate=function(value){if(!$scope.readonly&&value>=0&&value<=$scope.range.length){ngModelCtrl.$setViewValue(value);ngModelCtrl.$render()}};$scope.enter=function(value){if(!$scope.readonly){$scope.value=value}$scope.onHover({value:value})};$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue;$scope.onLeave()};$scope.onKeydown=function(evt){if(/(37|38|39|40)/.test(evt.which)){evt.preventDefault();evt.stopPropagation();$scope.rate($scope.value+(evt.which===38||evt.which===39?1:-1))}};this.render=function(){$scope.value=ngModelCtrl.$viewValue}}]).directive('rating',function(){return{restrict:'EA',require:['rating','ngModel'],scope:{readonly:'=?',onHover:'&',onLeave:'&'},controller:'RatingController',templateUrl:'template/rating/rating.html',replace:true,link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ratingCtrl.init(ngModelCtrl)}}});angular.module('ui.harmonize.tabs',[]).controller('TabsetController',['$scope',function TabsetCtrl($scope){var ctrl=this,tabs=ctrl.tabs=$scope.tabs=[];ctrl.select=function(selectedTab){angular.forEach(tabs,function(tab){if(tab.active&&tab!==selectedTab){tab.active=false;tab.onDeselect()}});selectedTab.active=true;selectedTab.onSelect()};ctrl.addTab=function addTab(tab){tabs.push(tab);if(tabs.length===1&&tab.active!==false){tab.active=true}else if(tab.active){ctrl.select(tab)}else{tab.active=false}};ctrl.removeTab=function removeTab(tab){var index=tabs.indexOf(tab);if(tab.active&&tabs.length>1&&!destroyed){var newActiveIndex=index==tabs.length-1?index-1:index+1;ctrl.select(tabs[newActiveIndex])}tabs.splice(index,1)};var destroyed;$scope.$on('$destroy',function(){destroyed=true})}]).directive('tabset',function(){return{restrict:'EA',transclude:true,replace:true,scope:{type:'@'},controller:'TabsetController',templateUrl:'template/tabs/tabset.html',link:function(scope,element,attrs){scope.vertical=angular.isDefined(attrs.vertical)?scope.$parent.$eval(attrs.vertical):false;scope.justified=angular.isDefined(attrs.justified)?scope.$parent.$eval(attrs.justified):false}}}).directive('tab',['$parse','$log',function($parse,$log){return{require:'^tabset',restrict:'EA',replace:true,templateUrl:'template/tabs/tab.html',transclude:true,scope:{active:'=?',heading:'@',onSelect:'&select',onDeselect:'&deselect'},controller:function(){},compile:function(elm,attrs,transclude){return function postLink(scope,elm,attrs,tabsetCtrl){scope.$watch('active',function(active){if(active){tabsetCtrl.select(scope)}});scope.disabled=false;if(attrs.disable){scope.$parent.$watch($parse(attrs.disable),function(value){"use strict";scope.disabled=!!value})}if(attrs.disabled){$log.warn('Use of "disabled" attribute has been deprecated, please use "disable"');scope.$parent.$watch($parse(attrs.disabled),function(value){"use strict";scope.disabled=!!value})}scope.select=function(){if(!scope.disabled){scope.active=true}};tabsetCtrl.addTab(scope);scope.$on('$destroy',function(){tabsetCtrl.removeTab(scope)});scope.$transcludeFn=transclude}}}}]).directive('tabHeadingTransclude',[function(){return{restrict:'A',require:'^tab',link:function(scope,elm,attrs,tabCtrl){scope.$watch('headingElement',function updateHeadingElement(heading){if(heading){elm.html('');elm.append(heading)}})}}}]).directive('tabContentTransclude',function(){return{restrict:'A',require:'^tabset',link:function(scope,elm,attrs){var tab=scope.$eval(attrs.tabContentTransclude);tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){if(isTabHeading(node)){tab.headingElement=node}else{elm.append(node)}})})}};function isTabHeading(node){return node.tagName&&(node.hasAttribute('tab-heading')||node.hasAttribute('data-tab-heading')||node.tagName.toLowerCase()==='tab-heading'||node.tagName.toLowerCase()==='data-tab-heading')}});angular.module('ui.harmonize.timepicker',[]).constant('timepickerConfig',{hourStep:1,minuteStep:1,showMeridian:true,meridians:null,readonlyInput:false,mousewheel:true,arrowkeys:true,showSpinners:true}).controller('TimepickerController',['$scope','$attrs','$parse','$log','$locale','timepickerConfig',function($scope,$attrs,$parse,$log,$locale,timepickerConfig){var selected=new Date,ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS;this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=this.render;ngModelCtrl.$formatters.unshift(function(modelValue){return modelValue?new Date(modelValue):null});var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1);var mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;if(mousewheel){this.setupMousewheelEvents(hoursInputEl,minutesInputEl)}var arrowkeys=angular.isDefined($attrs.arrowkeys)?$scope.$parent.$eval($attrs.arrowkeys):timepickerConfig.arrowkeys;if(arrowkeys){this.setupArrowkeyEvents(hoursInputEl,minutesInputEl)}$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput;this.setupInputEvents(hoursInputEl,minutesInputEl)};var hourStep=timepickerConfig.hourStep;if($attrs.hourStep){$scope.$parent.$watch($parse($attrs.hourStep),function(value){"use strict";hourStep=parseInt(value,10)})}var minuteStep=timepickerConfig.minuteStep;if($attrs.minuteStep){$scope.$parent.$watch($parse($attrs.minuteStep),function(value){"use strict";minuteStep=parseInt(value,10)})}$scope.showMeridian=timepickerConfig.showMeridian;if($attrs.showMeridian){$scope.$parent.$watch($parse($attrs.showMeridian),function(value){"use strict";$scope.showMeridian=!!value;if(ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();if(angular.isDefined(hours)&&angular.isDefined(minutes)){selected.setHours(hours);refresh()}}else{updateTemplate()}})}function getHoursFromTemplate(){var hours=parseInt($scope.hours,10);var valid=($scope.showMeridian)?(hours>0&&hours<13):(hours>=0&&hours<24);if(!valid){return undefined}if($scope.showMeridian){if(hours===12){hours=0}if($scope.meridian===meridians[1]){hours=hours+12}}return hours}function getMinutesFromTemplate(){var minutes=parseInt($scope.minutes,10);return(minutes>=0&&minutes<60)?minutes:undefined}function pad(value){return(angular.isDefined(value)&&value.toString().length<2)?'0'+value:value.toString()}this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl){var isScrollingUp=function(e){if(e.originalEvent){e=e.originalEvent}var delta=(e.wheelDelta)?e.wheelDelta:-e.deltaY;return(e.detail||delta>0)};hoursInputEl.bind('mousewheel wheel',function(e){$scope.$apply((isScrollingUp(e))?$scope.incrementHours():$scope.decrementHours());e.preventDefault()});minutesInputEl.bind('mousewheel wheel',function(e){$scope.$apply((isScrollingUp(e))?$scope.incrementMinutes():$scope.decrementMinutes());e.preventDefault()})};this.setupArrowkeyEvents=function(hoursInputEl,minutesInputEl){hoursInputEl.bind('keydown',function(e){if(e.which===38){e.preventDefault();$scope.incrementHours();$scope.$apply()}else if(e.which===40){e.preventDefault();$scope.decrementHours();$scope.$apply()}});minutesInputEl.bind('keydown',function(e){if(e.which===38){e.preventDefault();$scope.incrementMinutes();$scope.$apply()}else if(e.which===40){e.preventDefault();$scope.decrementMinutes();$scope.$apply()}})};this.setupInputEvents=function(hoursInputEl,minutesInputEl){if($scope.readonlyInput){$scope.updateHours=angular.noop;$scope.updateMinutes=angular.noop;return}var invalidate=function(invalidHours,invalidMinutes){ngModelCtrl.$setViewValue(null);ngModelCtrl.$setValidity('time',false);if(angular.isDefined(invalidHours)){$scope.invalidHours=invalidHours}if(angular.isDefined(invalidMinutes)){$scope.invalidMinutes=invalidMinutes}};$scope.updateHours=function(){var hours=getHoursFromTemplate();if(angular.isDefined(hours)){selected.setHours(hours);refresh('h')}else{invalidate(true)}};hoursInputEl.bind('blur',function(e){if(!$scope.invalidHours&&$scope.hours<10){$scope.$apply(function(){"use strict";$scope.hours=pad($scope.hours)})}});$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate();if(angular.isDefined(minutes)){selected.setMinutes(minutes);refresh('m')}else{invalidate(undefined,true)}};minutesInputEl.bind('blur',function(e){if(!$scope.invalidMinutes&&$scope.minutes<10){$scope.$apply(function(){"use strict";$scope.minutes=pad($scope.minutes)})}})};this.render=function(){var date=ngModelCtrl.$viewValue;if(isNaN(date)){ngModelCtrl.$setValidity('time',false);$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}else{if(date){selected=date}makeValid();updateTemplate()}};function refresh(keyboardChange){makeValid();ngModelCtrl.$setViewValue(new Date(selected));updateTemplate(keyboardChange)}function makeValid(){ngModelCtrl.$setValidity('time',true);$scope.invalidHours=false;$scope.invalidMinutes=false}function updateTemplate(keyboardChange){var hours=selected.getHours(),minutes=selected.getMinutes();if($scope.showMeridian){hours=(hours===0||hours===12)?12:hours%12}$scope.hours=keyboardChange==='h'?hours:pad(hours);if(keyboardChange!=='m'){$scope.minutes=pad(minutes)}$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}function addMinutes(minutes){var dt=new Date(selected.getTime()+minutes*60000);selected.setHours(dt.getHours(),dt.getMinutes());refresh()}$scope.showSpinners=angular.isDefined($attrs.showSpinners)?$scope.$parent.$eval($attrs.showSpinners):timepickerConfig.showSpinners;$scope.incrementHours=function(){addMinutes(hourStep*60)};$scope.decrementHours=function(){addMinutes(-hourStep*60)};$scope.incrementMinutes=function(){addMinutes(minuteStep)};$scope.decrementMinutes=function(){addMinutes(-minuteStep)};$scope.toggleMeridian=function(){addMinutes(12*60*((selected.getHours()<12)?1:-1))}}]).directive('timepicker',function(){return{restrict:'EA',require:['timepicker','?^ngModel'],controller:'TimepickerController',replace:true,scope:{},templateUrl:'template/timepicker/timepicker.html',link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){timepickerCtrl.init(ngModelCtrl,element.find('input'))}}}});angular.module('ui.harmonize.transition',[]).value('$transitionSuppressDeprecated',false).factory('$transition',['$q','$timeout','$rootScope','$log','$transitionSuppressDeprecated',function($q,$timeout,$rootScope,$log,$transitionSuppressDeprecated){if(!$transitionSuppressDeprecated){$log.warn('$transition is now deprecated. Use $animate from ngAnimate instead.')}var $transition=function(element,trigger,options){options=options||{};var deferred=$q.defer();var endEventName=$transition[options.animation?'animationEndEventName':'transitionEndEventName'];var transitionEndHandler=function(event){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler);deferred.resolve(element)})};if(endEventName){element.bind(endEventName,transitionEndHandler)}$timeout(function(){if(angular.isString(trigger)){element.addClass(trigger)}else if(angular.isFunction(trigger)){trigger(element)}else if(angular.isObject(trigger)){element.css(trigger)}if(!endEventName){deferred.resolve(element)}});deferred.promise.cancel=function(){if(endEventName){element.unbind(endEventName,transitionEndHandler)}deferred.reject('Transition cancelled')};return deferred.promise};var transElement=document.createElement('trans');var transitionEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd',transition:'transitionend'};var animationEndEventNames={WebkitTransition:'webkitAnimationEnd',MozTransition:'animationend',OTransition:'oAnimationEnd',transition:'animationend'};function findEndEventName(endEventNames){for(var name in endEventNames){if(transElement.style[name]!==undefined){return endEventNames[name]}}}$transition.transitionEndEventName=findEndEventName(transitionEndEventNames);$transition.animationEndEventName=findEndEventName(animationEndEventNames);return $transition}]);angular.module('ui.harmonize.typeahead',['ui.harmonize.position','ui.harmonize.bindHtml']).factory('typeaheadParser',['$parse',function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match){throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_"'+' but got "'+input+'".');}return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive('typeahead',['$compile','$parse','$q','$timeout','$document','$rootScope','$position','typeaheadParser',function($compile,$parse,$q,$timeout,$document,$rootScope,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];return{require:'ngModel',link:function(originalScope,element,attrs,modelCtrl){var minLength=originalScope.$eval(attrs.typeaheadMinLength);if(!minLength&&minLength!==0){minLength=1}var waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0;var isEditable=originalScope.$eval(attrs.typeaheadEditable)!==false;var isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop;var onSelectCallback=$parse(attrs.typeaheadOnSelect);var inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):undefined;var appendToBody=attrs.typeaheadAppendToBody?originalScope.$eval(attrs.typeaheadAppendToBody):false;var focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==false;var isOpenSetter=$parse(attrs.typeaheadIsOpen).assign||angular.noop;var $setModelValue=$parse(attrs.ngModel).assign;var parserResult=typeaheadParser.parse(attrs.typeahead);var hasFocus;var scope=originalScope.$new();originalScope.$on('$destroy',function(){scope.$destroy()});var popupId='typeahead-'+scope.$id+'-'+Math.floor(Math.random()*10000);element.attr({'aria-autocomplete':'list','aria-expanded':false,'aria-owns':popupId});var popUpEl=angular.element('<div typeahead-popup></div>');popUpEl.attr({id:popupId,matches:'matches',active:'activeIdx',select:'select(activeIdx)',query:'query',position:'position','assign-is-open':'assignIsOpen(isOpen)'});if(angular.isDefined(attrs.typeaheadTemplateUrl)){popUpEl.attr('template-url',attrs.typeaheadTemplateUrl)}var resetMatches=function(){scope.matches=[];scope.activeIdx=-1;element.attr('aria-expanded',false)};var getMatchId=function(index){return popupId+'-option-'+index};scope.$watch('activeIdx',function(index){if(index<0){element.removeAttr('aria-activedescendant')}else{element.attr('aria-activedescendant',getMatchId(index))}});var getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,true);$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=(inputValue===modelCtrl.$viewValue);if(onCurrentRequest&&hasFocus){if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1;scope.matches.length=0;for(var i=0;i<matches.length;i++){locals[parserResult.itemName]=matches[i];scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]})}scope.query=inputValue;scope.position=appendToBody?$position.offset(element):$position.position(element);scope.position.top=scope.position.top+element.prop('offsetHeight');element.attr('aria-expanded',true)}else{resetMatches()}}if(onCurrentRequest){isLoadingSetter(originalScope,false)}},function(){resetMatches();isLoadingSetter(originalScope,false)})};resetMatches();scope.query=undefined;var timeoutPromise;var scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)};var cancelPreviousTimeout=function(){if(timeoutPromise){$timeout.cancel(timeoutPromise)}};modelCtrl.$parsers.unshift(function(inputValue){hasFocus=true;if(minLength===0||inputValue&&inputValue.length>=minLength){if(waitTime>0){cancelPreviousTimeout();scheduleSearchWithTimeout(inputValue)}else{getMatchesAsync(inputValue)}}else{isLoadingSetter(originalScope,false);cancelPreviousTimeout();resetMatches()}if(isEditable){return inputValue}else{if(!inputValue){modelCtrl.$setValidity('editable',true);return inputValue}else{modelCtrl.$setValidity('editable',false);return undefined}}});modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue;var locals={};if(!isEditable){modelCtrl.$setValidity('editable',true)}if(inputFormatter){locals.$model=modelValue;return inputFormatter(originalScope,locals)}else{locals[parserResult.itemName]=modelValue;candidateViewValue=parserResult.viewMapper(originalScope,locals);locals[parserResult.itemName]=undefined;emptyViewValue=parserResult.viewMapper(originalScope,locals);return candidateViewValue!==emptyViewValue?candidateViewValue:modelValue}});scope.assignIsOpen=function(isOpen){isOpenSetter(originalScope,isOpen)};scope.select=function(activeIdx){var locals={};var model,item;locals[parserResult.itemName]=item=scope.matches[activeIdx].model;model=parserResult.modelMapper(originalScope,locals);$setModelValue(originalScope,model);modelCtrl.$setValidity('editable',true);modelCtrl.$setValidity('parse',true);onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)});resetMatches();$timeout(function(){element[0].focus()},0,false)};element.bind('keydown',function(evt){if(scope.matches.length===0||HOT_KEYS.indexOf(evt.which)===-1){return}if(scope.activeIdx==-1&&(evt.which===13||evt.which===9)){return}evt.preventDefault();if(evt.which===40){scope.activeIdx=(scope.activeIdx+1)%scope.matches.length;scope.$digest()}else if(evt.which===38){scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1;scope.$digest()}else if(evt.which===13||evt.which===9){scope.$apply(function(){"use strict";scope.select(scope.activeIdx)})}else if(evt.which===27){evt.stopPropagation();resetMatches();scope.$digest()}});element.bind('blur',function(evt){hasFocus=false});var dismissClickHandler=function(evt){if(element[0]!==evt.target){resetMatches();if(!$rootScope.$$phase){scope.$digest()}}};$document.bind('click',dismissClickHandler);originalScope.$on('$destroy',function(){$document.unbind('click',dismissClickHandler);if(appendToBody){$popup.remove()}popUpEl.remove()});var $popup=$compile(popUpEl)(scope);if(appendToBody){$document.find('body').append($popup)}else{element.after($popup)}}}}]).directive('typeaheadPopup',function(){return{restrict:'EA',scope:{matches:'=',query:'=',active:'=',position:'&',select:'&',assignIsOpen:'&'},replace:true,templateUrl:'template/typeahead/typeahead-popup.html',link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl;scope.isOpen=function(){var isDropdownOpen=scope.matches.length>0;scope.assignIsOpen({isOpen:isDropdownOpen});return isDropdownOpen};scope.isActive=function(matchIdx){return scope.active==matchIdx};scope.selectActive=function(matchIdx){scope.active=matchIdx};scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive('typeaheadMatch',['$templateRequest','$compile','$parse',function($templateRequest,$compile,$parse){return{restrict:'EA',scope:{index:'=',match:'=',query:'='},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||'template/typeahead/typeahead-match.html';$templateRequest(tplUrl).then(function(tplContent){$compile(tplContent.trim())(scope,function(clonedElement){element.replaceWith(clonedElement)})})}}}]).filter('typeaheadHighlight',function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,'\\$1')}return function(matchItem,query){return query?(''+matchItem).replace(new RegExp(escapeRegexp(query),'gi'),'<strong>$&</strong>'):matchItem}});angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion-group.html","<div class=\"panel panel-default\">\n"+"  <div class=\"panel-heading\">\n"+"    <h4 class=\"panel-title\">\n"+"      <a href=\"javascript:void(0)\" tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" accordion-transclude=\"heading\"><span ng-class=\"{'text-muted': isDisabled}\">{{heading}}</span></a>\n"+"    </h4>\n"+"  </div>\n"+"  <div class=\"panel-collapse collapse\" collapse=\"!isOpen\">\n"+"	  <div class=\"panel-body\" ng-transclude></div>\n"+"  </div>\n"+"</div>\n"+"")}]);angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion.html","<div class=\"panel-group\" ng-transclude></div>")}]);angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html","<div class=\"alert\" ng-class=\"['alert-' + (type || 'warning'), closeable ? 'alert-dismissible' : null]\" role=\"alert\">\n"+"    <button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close($event)\">\n"+"        <span aria-hidden=\"true\">&times;</span>\n"+"        <span class=\"sr-only\">Close</span>\n"+"    </button>\n"+"    <div ng-transclude></div>\n"+"</div>\n"+"")}]);angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/carousel.html","<div ng-mouseenter=\"pause()\" ng-mouseleave=\"play()\" class=\"carousel\" ng-swipe-right=\"prev()\" ng-swipe-left=\"next()\">\n"+"    <ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\n"+"        <li ng-repeat=\"slide in slides | orderBy:'index' track by $index\" ng-class=\"{active: isActive(slide)}\" ng-click=\"select(slide)\"></li>\n"+"    </ol>\n"+"    <div class=\"carousel-inner\" ng-transclude></div>\n"+"    <a class=\"left carousel-control\" ng-click=\"prev()\" ng-show=\"slides.length > 1\"><span class=\"acc-angle-left\"></span></a>\n"+"    <a class=\"right carousel-control\" ng-click=\"next()\" ng-show=\"slides.length > 1\"><span class=\"acc-angle-right\"></span></a>\n"+"</div>\n"+"")}]);angular.module("template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/slide.html","<div ng-class=\"{\n"+"    'active': active\n"+"  }\" class=\"item\" ng-transclude></div>\n"+"")}]);angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/datepicker.html","<div ng-switch=\"datepickerMode\" role=\"application\" ng-keydown=\"keydown($event)\">\n"+"  <daypicker ng-switch-when=\"day\" tabindex=\"0\"></daypicker>\n"+"  <monthpicker ng-switch-when=\"month\" tabindex=\"0\"></monthpicker>\n"+"  <yearpicker ng-switch-when=\"year\" tabindex=\"0\"></yearpicker>\n"+"</div>")}]);angular.module("template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/day.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n"+"      <th colspan=\"{{::5 + showWeeks}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n"+"    </tr>\n"+"    <tr>\n"+"      <th ng-if=\"showWeeks\" class=\"text-center\"></th>\n"+"      <th ng-repeat=\"label in ::labels track by $index\" class=\"text-center\"><small aria-label=\"{{::label.full}}\">{{::label.abbr}}</small></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr ng-repeat=\"row in rows track by $index\">\n"+"      <td ng-if=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\n"+"      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{::dt.uid}}\" ng-class=\"::dt.customClass\">\n"+"        <button type=\"button\" style=\"width:100%;\" class=\"btn btn-default btn-sm\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"::{'text-muted': dt.secondary, 'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/month.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n"+"      <th><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr ng-repeat=\"row in rows track by $index\">\n"+"      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{::dt.uid}}\" ng-class=\"::dt.customClass\">\n"+"        <button type=\"button\" style=\"width:100%;\" class=\"btn btn-default\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\" ng-keydown=\"keydown($event)\">\n"+"	<li ng-transclude></li>\n"+"	<li ng-if=\"showButtonBar\" style=\"padding:10px 9px 2px\">\n"+"		<span class=\"btn-group pull-left\">\n"+"			<button type=\"button\" class=\"btn btn-sm btn-info\" ng-click=\"select('today')\">{{ getText('current') }}</button>\n"+"			<button type=\"button\" class=\"btn btn-sm btn-danger\" ng-click=\"select(null)\">{{ getText('clear') }}</button>\n"+"		</span>\n"+"		<button type=\"button\" class=\"btn btn-sm btn-success pull-right\" ng-click=\"close()\">{{ getText('close') }}</button>\n"+"	</li>\n"+"</ul>\n"+"")}]);angular.module("template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/year.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n"+"      <th colspan=\"3\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr ng-repeat=\"row in rows track by $index\">\n"+"      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{::dt.uid}}\">\n"+"        <button type=\"button\" style=\"width:100%;\" class=\"btn btn-default\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("template/menu/menu-item.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/menu/menu-item.html","<div ng-click='navigate()' ng-transclude></div>")}]);angular.module("template/menu/menu.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/menu/menu.html","<div ng-class='{ show: visible, left: alignment === \\\"left\\\", right: alignment === \\\"right\\\" }' ng-transclude></div>")}]);angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/backdrop.html","<div class=\"modal-backdrop\"\n"+"     modal-animation-class=\"fade\"\n"+"     ng-class=\"{in: animate}\"\n"+"     ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"\n"+"></div>\n"+"")}]);angular.module("template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/window.html","<div modal-render=\"{{$isRendered}}\" tabindex=\"-1\" role=\"dialog\" class=\"modal\"\n"+"    modal-animation-class=\"fade\"\n"+"	ng-class=\"{in: animate}\" ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\" ng-click=\"close($event)\">\n"+"    <div class=\"modal-dialog\" ng-class=\"size ? 'modal-' + size : ''\"><div class=\"modal-content\" modal-transclude></div></div>\n"+"</div>\n"+"")}]);angular.module("template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pager.html","<ul class=\"pager\">\n"+"  <li ng-class=\"{disabled: noPrevious(), previous: align}\"><a href ng-click=\"selectPage(page - 1, $event)\">{{getText('previous')}}</a></li>\n"+"  <li ng-class=\"{disabled: noNext(), next: align}\"><a href ng-click=\"selectPage(page + 1, $event)\">{{getText('next')}}</a></li>\n"+"</ul>")}]);angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html","<ul class=\"pagination\">\n"+"  <li ng-if=\"boundaryLinks\" ng-class=\"{disabled: noPrevious()}\"><a href ng-click=\"selectPage(1, $event)\">{{getText('first')}}</a></li>\n"+"  <li ng-if=\"directionLinks\" ng-class=\"{disabled: noPrevious()}\"><a href ng-click=\"selectPage(page - 1, $event)\">{{getText('previous')}}</a></li>\n"+"  <li ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active}\"><a href ng-click=\"selectPage(page.number, $event)\">{{page.text}}</a></li>\n"+"  <li ng-if=\"directionLinks\" ng-class=\"{disabled: noNext()}\"><a href ng-click=\"selectPage(page + 1, $event)\">{{getText('next')}}</a></li>\n"+"  <li ng-if=\"boundaryLinks\" ng-class=\"{disabled: noNext()}\"><a href ng-click=\"selectPage(totalPages, $event)\">{{getText('last')}}</a></li>\n"+"</ul>")}]);angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-popup.html","<div class=\"tooltip\"\n"+"  tooltip-animation-class=\"fade\"\n"+"  tooltip-classes\n"+"  ng-class=\"{ in: isOpen() }\">\n"+"  <div class=\"tooltip-arrow\"></div>\n"+"  <div class=\"tooltip-inner\" ng-bind-html=\"contentExp()\"></div>\n"+"</div>\n"+"")}]);angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html","<div class=\"tooltip\"\n"+"  tooltip-animation-class=\"fade\"\n"+"  tooltip-classes\n"+"  ng-class=\"{ in: isOpen() }\">\n"+"  <div class=\"tooltip-arrow\"></div>\n"+"  <div class=\"tooltip-inner\" bind-html-unsafe=\"content\"></div>\n"+"</div>\n"+"")}]);angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html","<div class=\"tooltip\"\n"+"  tooltip-animation-class=\"fade\"\n"+"  tooltip-classes\n"+"  ng-class=\"{ in: isOpen() }\">\n"+"  <div class=\"tooltip-arrow\"></div>\n"+"  <div class=\"tooltip-inner\" ng-bind=\"content\"></div>\n"+"</div>\n"+"")}]);angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-template-popup.html","<div class=\"tooltip\"\n"+"  tooltip-animation-class=\"fade\"\n"+"  tooltip-classes\n"+"  ng-class=\"{ in: isOpen() }\">\n"+"  <div class=\"tooltip-arrow\"></div>\n"+"  <div class=\"tooltip-inner\"\n"+"    tooltip-template-transclude=\"contentExp()\"\n"+"    tooltip-template-transclude-scope=\"originScope()\"></div>\n"+"</div>\n"+"")}]);angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover-template.html","<div class=\"popover\"\n"+"  tooltip-animation-class=\"fade\"\n"+"  tooltip-classes\n"+"  ng-class=\"{ in: isOpen() }\">\n"+"  <div class=\"arrow\"></div>\n"+"\n"+"  <div class=\"popover-inner\">\n"+"      <h3 class=\"popover-title\" ng-bind=\"title\" ng-if=\"title\"></h3>\n"+"      <div class=\"popover-content\"\n"+"        tooltip-template-transclude=\"contentExp()\"\n"+"        tooltip-template-transclude-scope=\"originScope()\"></div>\n"+"  </div>\n"+"</div>\n"+"")}]);angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html","<div class=\"popover\"\n"+"  tooltip-animation-class=\"fade\"\n"+"  tooltip-classes\n"+"  ng-class=\"{ in: isOpen() }\">\n"+"  <div class=\"arrow\"></div>\n"+"\n"+"  <div class=\"popover-inner\">\n"+"      <h3 class=\"popover-title\" ng-bind=\"title\" ng-if=\"title\"></h3>\n"+"      <div class=\"popover-content\" ng-bind=\"content\"></div>\n"+"  </div>\n"+"</div>\n"+"")}]);angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html","<div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" ng-transclude></div>\n"+"")}]);angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html","<div class=\"progress\" ng-transclude></div>")}]);angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progressbar.html","<div class=\"progress\">\n"+"  <div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" ng-transclude></div>\n"+"</div>\n"+"")}]);angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html","<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\">\n"+"    <i ng-repeat=\"r in range track by $index\" ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')\">\n"+"        <span class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n"+"    </i>\n"+"</span>")}]);angular.module("template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tab.html","<li ng-class=\"{active: active, disabled: disabled}\">\n"+"  <a href ng-click=\"select()\" tab-heading-transclude>{{heading}}</a>\n"+"</li>\n"+"")}]);angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset.html","<div>\n"+"  <ul class=\"nav nav-{{type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n"+"  <div class=\"tab-content\">\n"+"    <div class=\"tab-pane\" \n"+"         ng-repeat=\"tab in tabs\" \n"+"         ng-class=\"{active: tab.active}\"\n"+"         tab-content-transclude=\"tab\">\n"+"    </div>\n"+"  </div>\n"+"</div>\n"+"")}]);angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/timepicker/timepicker.html","<table>\n"+"  <tbody>\n"+"    <tr class=\"text-center\" ng-show=\"showSpinners\">\n"+"      <td><a ng-click=\"incrementHours()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"      <td>&nbsp;</td>\n"+"      <td><a ng-click=\"incrementMinutes()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"      <td ng-show=\"showMeridian\"></td>\n"+"    </tr>\n"+"    <tr>\n"+"      <td class=\"form-group\" ng-class=\"{'has-error': invalidHours}\">\n"+"        <input style=\"width:50px;\" type=\"text\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\">\n"+"      </td>\n"+"      <td>:</td>\n"+"      <td class=\"form-group\" ng-class=\"{'has-error': invalidMinutes}\">\n"+"        <input style=\"width:50px;\" type=\"text\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\">\n"+"      </td>\n"+"      <td ng-show=\"showMeridian\"><button type=\"button\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\">{{meridian}}</button></td>\n"+"    </tr>\n"+"    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n"+"      <td><a ng-click=\"decrementHours()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"      <td>&nbsp;</td>\n"+"      <td><a ng-click=\"decrementMinutes()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"      <td ng-show=\"showMeridian\"></td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-match.html","<a href=\"javascript:void(0)\" tabindex=\"-1\" bind-html-unsafe=\"match.label | typeaheadHighlight:query\"></a>")}]);angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-show=\"isOpen()\" ng-style=\"{top: position().top+'px', left: position().left+'px'}\" style=\"display: block;\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\n"+"    <li ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index)\" role=\"option\" id=\"{{::match.id}}\">\n"+"        <div typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\n"+"    </li>\n"+"</ul>\n"+"")}]);!angular.$$csp()&&angular.element(document).find('head').prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');(function(){angular.module('app.masterScore',['app.core','app.widgets','directiveModule'])})();(function(){angular.module('app.layout',['app.core','directiveModule'])})();(function(){angular.module('app.myMultiSkillGroup',['app.core','app.widgets','directiveModule'])})();(function(){angular.module('app.process',['app.core','app.widgets','directiveModule'])})();(function(){angular.module('app.proficiencyconfig',['app.core','app.widgets','directiveModule','ui.harmonize'])})();(function(){angular.module('app.master',['app.core','app.widgets','directiveModule'])})();(function(){angular.module('app.widgets',[])})();(function(){angular.module('app.roleSpecialization',['app.core','app.widgets','directiveModule','ui.harmonize'])})();(function(){angular.module('blocks.exception').factory('exception',exception);exception.$inject=['logger'];function exception(logger){var service={catcher:catcher};return service;function catcher(message){return function(reason){}}}})();(function(){angular.module('blocks.exception').provider('exceptionHandler',exceptionHandlerProvider).config(config);function exceptionHandlerProvider(){this.config={appErrorPrefix:undefined};this.configure=function(appErrorPrefix){this.config.appErrorPrefix=appErrorPrefix};this.$get=function(){return{config:this.config}}}config.$inject=['$provide'];function config($provide){$provide.decorator('$exceptionHandler',extendExceptionHandler)}extendExceptionHandler.$inject=['$delegate','exceptionHandler','logger','$injector'];function extendExceptionHandler($delegate,exceptionHandler,logger,$injector){return function(exception,cause){var appErrorPrefix=exceptionHandler.config.appErrorPrefix||'';var errorData={exception:exception,cause:cause};exception.message=appErrorPrefix+exception.message;$delegate(exception,cause);var state=$injector.get('$state');state.go('error')}}})();(function(){angular.module('blocks.logger').factory('logger',logger);logger.$inject=['$log'];function logger($log){var service={showToasts:true,error:error,info:info,success:success,warning:warning,log:$log.log};return service;function error(message,data,title){toastr.error(message,title);$log.error('Error: '+message,data)}function info(message,data,title){toastr.info(message,title);$log.info('Info: '+message,data)}function success(message,data,title){toastr.success(message,title);$log.info('Success: '+message,data)}function warning(message,data,title){toastr.warning(message,title);$log.warn('Warning: '+message,data)}}}());(function(){angular.module('blocks.router').provider('routerHelper',routerHelperProvider);routerHelperProvider.$inject=['$locationProvider','$stateProvider','$urlRouterProvider'];function routerHelperProvider($locationProvider,$stateProvider,$urlRouterProvider){var config={docTitle:undefined,resolveAlways:{}};if(window.history&&window.history.pushState){$locationProvider.html5Mode(true)}else{window.location.hash='/';$locationProvider.html5Mode(true)}this.configure=function(cfg){angular.extend(config,cfg)};this.$get=RouterHelper;RouterHelper.$inject=['$location','$rootScope','$state','logger'];function RouterHelper($location,$rootScope,$state,logger){var handlingStateChangeError=false;var hasOtherwise=false;var stateCounts={errors:0,changes:0};var service={configureStates:configureStates,getStates:getStates,stateCounts:stateCounts};init();return service;function configureStates(states,otherwisePath){states.forEach(function(state){state.config.resolve=angular.extend(state.config.resolve||{},config.resolveAlways);$stateProvider.state(state.state,state.config)});if(otherwisePath&&!hasOtherwise){hasOtherwise=true;$urlRouterProvider.otherwise(otherwisePath)}}function handleRoutingErrors(){$rootScope.$on('$stateChangeError',function(event,toState,toParams,fromState,fromParams,error){if(handlingStateChangeError){return}stateCounts.errors++;handlingStateChangeError=true;var destination=(toState&&(toState.title||toState.name||toState.loadedTemplateUrl))||'unknown target';var msg='Error routing to '+destination+'. '+(error.data||'')+'. <br/>'+(error.statusText||'')+': '+(error.status||'');logger.warning(msg,[toState]);$location.path('/')})}function init(){handleRoutingErrors();updateDocTitle()}function getStates(){return $state.get()}function updateDocTitle(){$rootScope.$on('$stateChangeSuccess',function(event,toState,toParams,fromState,fromParams){stateCounts.changes++;handlingStateChangeError=false;var title=(toState.title||'')+' - '+config.docTitle;$rootScope.title=title})}}}})();(function(){var directiveModule=angular.module('directiveModule',[]);directiveModule.directive("collapsedcard",["$compile",function($compile){var directive={};directive.restrict='E';directive.replace='true';directive.scope={skilltype:'@',shortfor:'@',skills:'=',rolename:'=',currentskills:'=',currentpage:'=',itemperpage:'=',skillcount:'=',totalpage:'='};directive.link=function(scope,element,attrs){var template='\
            <div class="col-md-6">\
	            <div class="widget w1 card">\
		            <div ht-widget-header title="{{skilltype}} Skills ({{skillcount}})" showmore="addmore"></div>\
		            <div>\
			            <div class="widget-content cardtext-info" id="front{{skilltype}}Card" style="position:relative">\
				            <div ng-repeat="skill in skills | limitTo:4 ">\
					            <small>{{skill.SkillName}}</small>\
				            </div>\
				            <div class="card-footer" style="position:absolute;bottom:0px;right:10px">\
					            <a class="pull-right" style="font-style:italic;" href="#"  title="Click here to view all {{skilltype}} Skills" data-toggle="modal" data-target="#myModal{{skilltype}}" data-backdrop="true">See More</a>\
				            </div>\
			            </div>\
			            <div class="modal fade" id="myModal{{skilltype}}" role="dialog">\
				            <div id="modal{{skilltype}}" class="modal-dialog modal-sm">\
					            <div class="modal-content mymodalcontent">\
						            <div class="modal-header">\
							            <button type="button" class="close" data-dismiss="modal">&times;</button>\
							            <h4 class="modal-title">{{rolename}}</h4>\
						            </div>\
						            <div class="modal-body">\
							            <p class="subheadingrotis">{{skilltype}} Skills ({{skillcount}})</p>\
                                        <div ng-repeat="skill in currentskills">\
                                            <ul>\
                                            <li><small>{{skill.SkillName}}</small></li>\
                                            </ul>\
                                        </div>\
                                        <div ng-show="skillcount==0">\
                                            <span>No {{skilltype}} Skill.</span>\
                                        </div><div class="pageinfo">{{currentpage}}  /  {{totalpage}}</div>\
                                        <div class="mypagination pagerinfo" >\
                                            <pagination ng-model="currentpage"\
                                            total-items="skillcount"\
                                            max-size="0"\
                                            previous-text="<<"\
                                            next-text=">>"\
                                            boundary-links="false"\
                                            items-per-page="itemperpage">\
                                            </pagination>\
                                        </div>\
						            </div>\
					            </div>\
				            </div>\
			            </div>\
		            </div>\
	            </div>\
            </div>';element.html(template);$compile(element.contents())(scope)};return directive}]);directiveModule.directive('ngFocus',[function(){var FOCUS_CLASS="ng-focused";return{restrict:'A',require:'ngModel',link:function(scope,element,attrs,ctrl){ctrl.$focused=false;element.bind('focus',function(evt){element.addClass(FOCUS_CLASS);scope.$apply(function(){ctrl.$focused=true})}).bind('blur',function(evt){element.removeClass(FOCUS_CLASS);scope.$apply(function(){ctrl.$focused=false})})}}}]);directiveModule.directive('imageRouteHandler',function(){return{restrict:'A',replace:false,link:function(scope,elem,attr){scope.$watch(attr.ref,function(){var src="Content/Images/no-user.jpg",pictureUrl="https://collabhub.accenture.com/People/ProfilePicture/"+attr.ref;if((pictureUrl!==undefined)&&(pictureUrl!=='')){src='ImageRouteHandler.ashx?URL='+encodeURIComponent(pictureUrl);elem.attr('src',src)}},true)}}});directiveModule.directive('acnSupportBrowser',['$window',function($window){return{restrict:'A',replace:false,link:function(scope,element,attr){$(element).hide();var browser={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(data){var i,dataString;for(i=0;i<data.length;i++){dataString=data[i].string;this.versionSearchString=data[i].subString;if(dataString.indexOf(data[i].subString)!==-1){return data[i].identity}}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(index===-1){return}return parseFloat(dataString.substring(index+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};browser.init();if((browser.browser==='Explorer')&&((browser.version<9)||(document.documentMode<9))){$window.location.href="app/views/browser_not_supported.html"}$(element).show()}}}]);directiveModule.directive('acnLoader',function(){return{restrict:'A',replace:false,link:function(scope,element,attrs){function AjaxLoader(el,options){var defaults={bgColor:'rgba(255,255,255,0.2)',opacity:1},loader={};loader.options=jQuery.extend(defaults,options);loader.container=$(el);loader.init=function(){loader.remove();var container=loader.container,overlay=$('<div></div>').css({'background-color':loader.options.bgColor,opacity:loader.options.opacity,width:container.width(),height:620,position:'absolute',top:230,left:0,'z-index':99998}).addClass('ajax_overlay');container.append(overlay.append($('<i style="font-size: 60px; position:relative; left:470px;top:240px;"></i>').addClass('fa fa-spinner fa-spin')))};loader.remove=function(){var overlay=loader.container.children(".ajax_overlay");if(overlay.length){overlay.fadeOut(loader.options.classOveride,function(){overlay.remove()})}};loader.init();return loader}var myLoader=null;scope.$watch(attrs.acnLoader,function(value){if(value===true){myLoader=new AjaxLoader($(element))}else if(value===false){if(myLoader!==null){myLoader.remove()}}})}}});directiveModule.directive('moduleLoader',function(){return{restrict:'A',replace:false,link:function(scope,element,attrs){function AjaxLoader(el,options){var defaults={bgColor:'rgba(255,255,255,0.2)',opacity:1},loader={};loader.options=jQuery.extend(defaults,options);loader.container=$(el);loader.init=function(){loader.remove();var container=loader.container,overlay=$('<div></div>').css({opacity:0.9,position:'absolute',top:'40%',left:'47%','z-index':99998}).addClass('ajax_overlay');container.append(overlay.append($('<i style="color:black;font-size: 60px; position:relative; left:0px;top:0px;"></i>').addClass('fa fa-spinner fa-spin')))};loader.remove=function(){var overlay=loader.container.children(".ajax_overlay");if(overlay.length){overlay.fadeOut(loader.options.classOveride,function(){overlay.remove()})}};loader.init();return loader}var myLoader=null;scope.$watch(attrs.moduleLoader,function(value){if(value===true){myLoader=new AjaxLoader($(element))}else if(value===false){if(myLoader!==null){myLoader.remove()}}})}}})})();app.constant('app.constants',{global:{enterpriseId:ENTERPRISE_ID,peopleKey:PEOPLE_KEY,displayName:DISPLAY_NAME,firstName:FirstName,lastName:LastName,baseURL:BASE_URL,grantType:"urn:ietf:params:oauth:grant-type:jwt-bearer",apiSvcId:API_IDENTIFIER,tokenUrl:TOKEN_URL,tokenInterval:3000000},message:{errorLoadingData:'Something went wrong while loading data. Please, try again later.',noMultiskill:'You are not part of multi-skill program...',noResultsFound:'No Results Found',approverNotActive:'Approver is not active in system.',errorSavingData:'Something went wrong while saving data. Please, try again later.',successSavingData:'The configuration has been set successfully.',invalidApprover:'Approver Enterprise ID is invalid.',errorproficiency:'You cannot view Proficiency & Technical Score as view  window is closed.',noPermission:'You do not have permission to access this page.'}});angular.module('app.core').run(['$rootScope','app.constants',function($rootScope,constants){$rootScope.constants=constants}]);(function(){var core=angular.module('app.core');core.factory('authservice',authservice);authservice.$inject=['logger','config','$rootScope','$injector','$q','app.constants'];function authservice(logger,config,$rootScope,$injector,$q,constants){var service={getJwtToken:getJwtToken,request:request};return service;function getAuthTokens(){var deferred=$q.defer();var tokens={};var serviceIdentiferMap=config.authSettings.serviceNameAndBaseUrlMap;$injector.get('$http')({method:'POST',url:config.authSettings.authUrl,ignoreInterceptor:true,data:{ForceTokenRefresh:false,RelyingParties:Object.keys(serviceIdentiferMap)}}).success(function(data){if(data.IsUserAuthenticated){logger.log('refreshed jwt tokens: '+data);var serviceTokenMap={};angular.forEach(data.JwtToken,function(value,key){var serviceName=data.JwtToken[key].RelyingParty;var serviceRootUrl=serviceIdentiferMap[serviceName];serviceTokenMap[serviceRootUrl]=data.JwtToken[key].Token});$rootScope.serviceTokensMap=serviceTokenMap;deferred.resolve()}else{$injector.get('ngDialog').open({template:'Your session has expired. Please login again',plain:true,preCloseCallback:function(){location.reload()}})}}).error(function(e){logger.log('Failed to obtain user info: ');deferred.reject('Failed to obtain user info.')});return deferred.promise}function getJwtToken(){var url=constants.global.tokenUrl,deferred=$q.defer(),defaults={},parameter='grant_type='+encodeURIComponent(constants.global.grantType)+'&assertion='+encodeURIComponent(jwt)+'&scope='+encodeURIComponent(constants.global.apiSvcId),config={headers:{'Content-Type':'application/x-www-form-urlencoded;charset=utf-8'}};var http=$injector.get('$http');http.post(url,parameter,config).success(function(data){deferred.resolve(data)}).error(function(data,status){logger.log('Failed to obtain jwt'+data);deferred.reject({data:data,status:status})});return deferred.promise}function request(config){logger.log('In Request interceptor');if(config&&config.url!=undefined){if(config.url.indexOf(BASE_URL)===0){if(jwt!==''){config.headers.Authorization="Bearer "+jwt}}}return config}function responseError(response){var deferred=$q.defer();if(!(response.config.hasOwnProperty('ignoreInterceptor')&&response.config.ignoreInterceptor)){switch(response.status){case 401:service.getAuthTokens().then(function(){response.config.ignoreInterceptor=true;logger.log('Retrying service request with new Tokens');$injector.get('$http')(response.config).then(function(response){logger.log('Retry was success');deferred.resolve(response)},function(error){logger.log('error on retrying service request: '+error);deferred.reject(error)})},function(response,status){logger.log('failed to refresh jwt');deferred.reject('failed to refresh jwt, error: '+response)});break;case 403:deferred.reject('Access to service is forbidden: '+response);break;default:deferred.reject(response)}}else{logger.log('Ignored response interceptor');deferred.reject(response)}return deferred.promise}}})();(function(){var core=angular.module('app.core');core.config(toastrConfig);toastrConfig.$inject=[];function toastrConfig(){toastr.options.timeOut=4000;toastr.options.positionClass='toast-bottom-right'}var config={appErrorPrefix:'[MSA Error] ',appTitle:'Multi Skill CAMS'};core.value('config',config);core.config(configure);configure.$inject=['$logProvider','$locationProvider','$httpProvider','routerHelperProvider','exceptionHandlerProvider','adalAuthenticationServiceProvider'];function configure($logProvider,$locationProvider,$httpProvider,routerHelperProvider,exceptionHandlerProvider,adalProvider){$httpProvider.interceptors.push('authservice');if($logProvider.debugEnabled){$logProvider.debugEnabled(true)}exceptionHandlerProvider.configure(config.appErrorPrefix);routerHelperProvider.configure({docTitle:config.appTitle});$locationProvider.html5Mode(true).hashPrefix('!');adalProvider.init({authorizationUrl:'http://localhost:44336/core/connect/',clientId:'spa-template',response_type:'id_token token',redirect_uri:'http://localhost:32344/',scope:'openid identityApi MyServicesApi',oauth1Endpoint:'http://localhost:44336/adfs',oauth1ServicesAndIdentifierMap:{'urn:MyService':'http://localhost:52583/oauth1'}},$httpProvider)}})();(function(){angular.module('app.core').run(appRun);function appRun(routerHelper){var otherwise='/404';if(ENTERPRISE_ID!=''){otherwise='/'}routerHelper.configureStates(getStates(),otherwise)}function getStates(){return[{state:'404',config:{url:'/404',templateUrl:'app/core/404.html',title:'404'}},{state:'error',config:{url:'/error',templateUrl:'app/core/error.html',title:'error'}},{state:'multiskillgroupmaster',config:{url:'/multi_skill_group_master',templateUrl:'app/core/multi_skill_group_master.html',title:'multiskillgroupmaster'}},{state:'employeeassignment',config:{url:'/employee_assignment',templateUrl:'app/core/employee_assignment.html',title:'employeeassignment'}},{state:'technicalscore',config:{url:'/technical_score',templateUrl:'app/core/technical_score.html',title:'technicalscore'}}]}})();(function(){angular.module('app.core').factory('dataservice',dataservice);dataservice.$inject=['$http','$q','logger','app.constants','$state'];function dataservice($http,$q,logger,constants,$state){var service={getPeopleMSData:getPeopleMSData,getCurrentSkill:getCurrentSkill,getProcessStatus:getProcessStatus,startProcess:startProcess,getKey:getKey,updateKey:updateKey,getCapability:getCapability,getMSGroup:getMSGroup,getTotalSetting:getTotalSetting,updateTotalSetting:updateTotalSetting,getExpSetting:getExpSetting,updateExpSetting:updateExpSetting,getLevel:getLevel,SavePCC:SavePCC,GetPCCData:GetPCCData,getResource:getResource,checkResource:checkResource,getPeopleMSSkillData:getPeopleMSSkillData,getCurrentpeopleSkillpage:getCurrentpeopleSkillpage,getCapleaderViewSkills:getCapleaderViewSkills,postQuerySkillList:postQuerySkillList,postQueryALLSkillList:postQueryALLSkillList,GetMultiSkillRoleList:GetMultiSkillRoleList,postMultiSkillUserList:postMultiSkillUserList,GetSingleScoreProficiency:GetSingleScoreProficiency,postDownloadScore:postDownloadScore,weightconfig:weightconfig,allcongif:allcongif,SpecializationAdd:SpecializationAdd,SpecializationDetele:SpecializationDetele,SpecializationRename:SpecializationRename,GetRoleSpeciallization:GetRoleSpeciallization,getSkillByType:getSkillByType,GetTierList:GetTierList,GetAllCapabilityList:GetAllCapabilityList,GetSpecialtyList:GetSpecialtyList,GetSkillList:GetSkillList,GetCapBySpeList:GetCapBySpeList,GetSpeAndCapList:GetSpeAndCapList,GetCapListByFilter:GetCapListByFilter,GetSpeListByFilter:GetSpeListByFilter,GetSkillListByFilter:GetSkillListByFilter,AddCoreSkill:AddCoreSkill,DeleteCoreSkill:DeleteCoreSkill,AddMESkill:AddMESkill,DeleteMESkill:DeleteMESkill};return service;function getPeopleMSData(peoplekey){var serviceUrl=BASE_URL+'GetResSkillGroupCap'+'?PeopleKey='+peoplekey+'&SkillType=All';return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getCurrentSkill(peoplekey,masterID,flag,page){var serviceUrl=BASE_URL+'GetSGCapMap'+'?PeopleKey='+peoplekey+'&SGCapMsID='+masterID+'&SkillType='+flag+'&PageIndex='+page;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getProcessStatus(){var serviceUrl=BASE_URL+'proficiency';return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function startProcess(peoplekey,isAdmin){var serviceUrl=BASE_URL+'proficiency';var mydata={isAdmin:isAdmin,peoplekey:peoplekey};return $http.post(serviceUrl,mydata).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getKey(mydata){var serviceUrl=BASE_URL+'proficiency/QueryConfigValues';return $http.post(serviceUrl,mydata).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function updateKey(peoplekey,isAdmin,configkey,value){var serviceUrl=BASE_URL+'proficiency/Updateconfiguration';var config={isAdmin:isAdmin,peoplekey:peoplekey,Configkey:configkey,ConfigValue:value};return $http.post(serviceUrl,config).then(success).catch(fail);function success(response){return response.data}function fail(error){$state.go('error');return $q.reject(error.data)}}function getCapability(){var serviceUrl=BASE_URL+'proficiencyCalcConfig';return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getMSGroup(capabilityid){var serviceUrl=BASE_URL+'proficiencyCalcConfig/skillgroup?SkillID='+capabilityid;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getTotalSetting(msgid){var serviceUrl=BASE_URL+'proficiencyCalcConfig/total?SGCapMsID='+msgid;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function updateTotalSetting(totalSetting){var serviceUrl=BASE_URL+'proficiencyCalcConfig/total';return $http.post(serviceUrl,totalSetting).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getExpSetting(msgid){var serviceUrl=BASE_URL+'proficiencyCalcConfig/exp'+'?SGCapMsID='+msgid;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function updateExpSetting(expSetting){var serviceUrl=BASE_URL+'proficiencyCalcConfig/exp';return $http.post(serviceUrl,expSetting).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function SavePCC(saveinfo){var serviceUrl=BASE_URL+'ProficiencyCalcConfig/techcertcont';var mydata={MSGroupCapabilityMasterID:saveinfo.selectedSG2,CareerLevelID:saveinfo.selectedlevel,TechWeightage:saveinfo.TechW,ConWeightage:saveinfo.ContW,CerWeightage:saveinfo.CertW,ApproverEID:saveinfo.ApprEnterpriseID,PeopleKey:saveinfo.currentuser};return $http.post(serviceUrl,mydata).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getLevel(){var serviceUrl=BASE_URL+'ProficiencyCalcConfig/level';return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetPCCData(levelid,mappid){var serviceUrl=BASE_URL+'ProficiencyCalcConfig/techcertcont'+'?levelID='+levelid+'&mappID='+mappid;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getResource(obj){var serviceUrl=BASE_URL+'resources?enterpriseID='+obj.EnterpriseID;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function checkResource(EID){var serviceUrl=BASE_URL+'odata/resources?enterpriseID='+EID;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getPeopleMSSkillData(peoplekey){var serviceUrl=BASE_URL+'ProTechScore'+'?PeopleKey='+peoplekey;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getCurrentpeopleSkillpage(peoplekey,page){var serviceUrl=BASE_URL+'ProTechScore/PagedList'+'?startPageIndex='+page+'&PeopleKey='+peoplekey;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getCapleaderViewSkills(parameter){var serviceUrl=BASE_URL+'CapleaderViewSkills?ScenariosIdentify='+parameter;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function postQuerySkillList(capabilityid,roupid,type,page){var serviceUrl=BASE_URL+'CapleaderViewSkills/QuerySkillList';var mydata={capabilityid:capabilityid,msgroupid:roupid,skilltype:type,pageindex:page};return $http.post(serviceUrl,mydata).then(success).catch(fail);function success(response){return response.data}function fail(error){$state.go('error');return $q.reject(error.data)}}function postQueryALLSkillList(capabilityid,roleid,type,page){var serviceUrl=BASE_URL+'CapleaderViewSkills/QuerySkillList';var mydata={capabilityid:capabilityid,msgroupid:roleid,skilltype:type,pageindex:page};return $http.post(serviceUrl,mydata).then(success).catch(fail);function success(response){return response.data}function fail(error){$state.go('error');return $q.reject(error.data)}}function GetMultiSkillRoleList(capabilityid){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetMultiSkillRoleList?capabilityID='+capabilityid;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function postMultiSkillUserList(capabilityid,roleid,user,page){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetCapLeadScoreProList';var mydata={capabilityid:capabilityid,msgroupid:roleid,EnterpriseID:user,pageindex:page};return $http.post(serviceUrl,mydata).then(success).catch(fail);function success(response){return response.data}function fail(error){$state.go('error');return $q.reject(error.data)}}function GetSingleScoreProficiency(peopleKey,roleID){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetSingleScoreProficiency?peopleKey='+peopleKey+"&multiskillRoleID="+roleID;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function postDownloadScore(capabilityID,groupID,pageIndex,enterpriseID){var serviceUrl=BASE_URL+'CapleaderViewSkills/CapLeadDownLoadEmployeeScore';var mydata={capabilityid:capabilityID,MSGroupID:groupID,pageindex:pageIndex,EnterpriseID:enterpriseID};return $http.post(serviceUrl,mydata).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function weightconfig(msgid){var serviceUrl=BASE_URL+'proficiencyCalcConfig/weightconfig'+'?SGCapMsID='+msgid;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function allcongif(obj){var serviceUrl=BASE_URL+'proficiencyCalcConfig/allconfig';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function getSkillByType(obj){var serviceUrl=BASE_URL+'CapleaderViewSkills/getSkillByType';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetAllCapabilityList(){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetAllCapabilityList';return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetTierList(){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetTierList';return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetSpecialtyList(CapId){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetSpecialtyList'+'?CapId='+CapId;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetSkillList(SpeId){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetSkillList'+'?SpeId='+SpeId;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetCapBySpeList(SpeId){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetCapBySpeList'+'?SpeId='+SpeId;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetSpeAndCapList(SkillId){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetSpeAndCapList'+'?SkillId='+SkillId;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetCapListByFilter(obj){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetCapListByFilter'+'?capname='+obj;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetSpeListByFilter(obj){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetSpeListByFilter'+'?spename='+obj;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetSkillListByFilter(obj){var serviceUrl=BASE_URL+'CapleaderViewSkills/GetSkillListByFilter'+'?skillname='+obj;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function AddCoreSkill(obj){var serviceUrl=BASE_URL+'CapleaderViewSkills/AddCoreSkill';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function DeleteCoreSkill(obj){var serviceUrl=BASE_URL+'CapleaderViewSkills/DeleteCoreSkill';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function AddMESkill(obj){var serviceUrl=BASE_URL+'CapleaderViewSkills/AddMESkill';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function DeleteMESkill(obj){var serviceUrl=BASE_URL+'CapleaderViewSkills/DeleteMESkill';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function SpecializationAdd(obj){var serviceUrl=BASE_URL+'RoleSpecializationMgmt/AddRoleSpeciallization';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function SpecializationDetele(obj){var serviceUrl=BASE_URL+'RoleSpecializationMgmt/DeleteRoleSpeciallization';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function SpecializationRename(obj){var serviceUrl=BASE_URL+'RoleSpecializationMgmt/UpdateRoleSpeciallization';return $http.post(serviceUrl,obj).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}function GetRoleSpeciallization(CapId){var serviceUrl=BASE_URL+'RoleSpecializationMgmt/GetRoleSpeciallization'+'?CapId='+CapId;return $http.get(serviceUrl).then(success).catch(fail);function success(response){return response.data}function fail(error){return $q.reject(error.data)}}}})();(function(){angular.module('app.layout').controller('ShellController',ShellController);ShellController.$inject=['$rootScope','$timeout','config','logger','$state','routerHelper','$location'];function ShellController($rootScope,$timeout,config,logger,$state,routerHelper,$location){var vm=this;vm.busyMessage=$rootScope.constants.message.busyMessage;vm.firstName=$rootScope.constants.global.firstName;vm.lastName=$rootScope.constants.global.lastName;vm.enterpriseID=$rootScope.constants.global.enterpriseId;vm.peoplekey=$rootScope.constants.global.peopleKey;vm.isBusy=true;vm.notificationsCount=1;$rootScope.showSplash=true;var states=routerHelper.getStates();vm.isCurrent=isCurrent;vm.leftMenu=leftMenu;activate();var adminvalidition="Yes";var uservalidation=User;var links=Links;vm.Admin=false;vm.Process=false;vm.Config=false;vm.Master=false;angular.forEach(links,function(data){if(data.LinkName=="Admin"){vm.Admin=true}if(data.LinkName=="Process"){vm.Process=true}if(data.LinkName=="Config"){vm.Config=true}if(data.LinkName=="ViewDetails"){vm.Master=true}if(data.LinkName=="ViewDetailsForAdmin"){vm.Master=true}if(data.LinkName=="RoleSpecialization"){vm.RoleSpecialization=true}});function leftMenu(e){$rootScope.$emit('menuToggle',e)}function activate(){}function hideSplash(){$timeout(function(){$rootScope.showSplash=false},1000)}function getNavRoutes(){vm.navRoutes=states.filter(function(r){return r.settings&&r.settings.nav}).sort(function(r1,r2){return r1.settings.nav-r2.settings.nav})}function isCurrent(route){if(!route.title||!$state.current||!$state.current.title){return''}var menuName=route.title;return $state.current.title.substr(0,menuName.length)===menuName?'active':''}vm.goto=function(statename){$state.go(statename)};vm.isActive=function(path){return path===$location.path()};vm.getErrorState=function(){if($location.path()==='/error'){if(Admin=='Yes'||User=='Yes'){return true}return false}else{return true}}}})();(function(){angular.module('app.masterScore').controller('masterScoreController',masterScoreController);masterScoreController.$inject=['$q','dataservice','logger','$scope','app.constants','$state','authservice','$interval'];function masterScoreController($q,dataservice,logger,$scope,constants,$state,authservice,$interval){var vm=this;vm.isLoading=true;var uservalidation="RCLC";vm.peoplekey=constants.global.peopleKey;vm.itemPerPage=20;vm.ScroePage=10;vm.selectedCap=null;vm.selectedSG=null;vm.capabilityid=null;vm.roleid=null;vm.userid=null;getCapleaderViewSkills();vm.people=null;function getCapleaderViewSkills(){vm.isLoading=true;vm.modalLoading=true;vm.errordata=false;return dataservice.getCapleaderViewSkills(uservalidation).then(function(data){if(data.length>0){vm.selectedCap=data[0];vm.selectedCapid=data[0].SkillID}else{vm.TotalCount=0;vm.modalLoading=false;vm.errormsg=constants.message.noMultiskill;vm.errordata=true;vm.isLoading=false}vm.capability=data;vm.isLoading=false},function(error){if(error.Message=="error:Haven't permission"){vm.TotalCount=0;vm.modalLoading=false;vm.errormsg=constants.message.noPermission;vm.errordata=true}else if(error.Message=="Authorization has been denied for this request."){vm.TotalCount=0;vm.modalLoading=false;vm.errormsg=constants.message.noPermission;vm.errordata=true}else{$state.go('error')}vm.isLoading=false}).then(function(){if(vm.selectedCapid!=0){vm.getMSGroup(vm.selectedCapid)}})}vm.getPeopleMSSkillData=function(peoplekey,roleID){vm.people=peoplekey;vm.modalLoading=true;vm.errordatas=false;return dataservice.GetSingleScoreProficiency(peoplekey,roleID).then(function(data){if(data!=null){vm.skilldata=data;vm.skillPage=1;vm.skillXlist=data.IndividualSkillScoreList;vm.SkillTotalCount=data.SkillTotalCount;vm.skilltotalscore=data.TotalScore;vm.skillTotalPage=Math.max(Math.ceil(data.SkillTotalCount/vm.ScroePage)||0,1);vm.modalLoading=false}},function(error){if(error.Message=="error:can't display"){vm.errormsg=constants.message.errorproficiency;vm.modalLoading=false;vm.errordatas=true}else{$state.go('error')}})};vm.getMSGroup=function(capabilityid){vm.isLoading=true;if(angular.isDefined(capabilityid)){vm.selectedSG=null;dataservice.GetMultiSkillRoleList(capabilityid).then(function(data){vm.msgroup=data;vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData)})}};vm.getSearchDate=function(capabilityid,roleid,userid){vm.modalLoading=false;vm.isLoading=true;vm.pageIndex=1;dataservice.postMultiSkillUserList(capabilityid,roleid,userid,vm.pageIndex).then(function(data){if(data.TotalCapScoreProCount!=0){vm.data=data.CapScoreProficencyList;vm.TotalCount=data.TotalCapScoreProCount;if(vm.TotalCount!=0){$('#Modal').modal('hide')}vm.TotalPage=Math.max(Math.ceil(data.TotalCapScoreProCount/vm.itemPerPage)||0,1);vm.Page=1;vm.capabilityid=capabilityid;vm.roleid=roleid;vm.userid=userid}else{$('#Modal').modal('show');vm.TotalCount=data.TotalCapScoreProCount;vm.msg=constants.message.noResultsFound}vm.modalLoading=false;vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData)})};$scope.$watch('vm.Page',function(){vm.isLoading=true;if(vm.capabilityid!=null){dataservice.postMultiSkillUserList(vm.capabilityid,vm.roleid,vm.userid,vm.Page).then(function(data){if(data!=null){vm.data=data.CapScoreProficencyList}vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData)})}});vm.getCurrentCore=function(capabilityid,roleid,userid,page){return dataservice.postMultiSkillUserList(capabilityid,roleid,userid,page).then(function(data){if(data.length>0){vm.currentCore=data[0].Skillhier}}),function(){$state.go('error')}};vm.messagePCC=constants.message.noResultsFound;vm.searchResourcePCC=function(val){var obj={EnterpriseID:val};vm.namePassedPCC=false;vm.noResultsPCC=false;return dataservice.getResource(obj).then(function(data){if(data.length!=0){return $.map(data,function(item){if(item.EnterpriseID==val){vm.namePassedPCC=true}return item.EnterpriseID})}else{vm.noResultsPCC=true;vm.messagePCC=constants.message.noResultsFound;vm.namePassedPCC=false}},function(error){logger.error(constants.message.errorSavingData)})};vm.selectNamePCC=function(){vm.namePassedPCC=true;vm.noResultsPCC=false};vm.clean=function(){getCapleaderViewSkills();vm.userID=null;vm.TotalCount=null};vm.download=function(){vm.isLoading=true;return dataservice.postDownloadScore(vm.capabilityid,vm.roleid,vm.Page,vm.userid).then(function(data){vm.url=BASE_URL.substring(0,BASE_URL.length-5)+data;window.open(vm.url);vm.isLoading=false}),function(){$state.go('error');vm.isLoading=false}};vm.getCurrentpeopleSkill=function(){if(vm.people!=null){return dataservice.getCurrentpeopleSkillpage(vm.people,vm.skillPage).then(function(data){vm.skillXlist=data.employeeSkillList}),function(){$state.go('error')}}}}})();(function(){angular.module('app.masterScore').run(appRun);appRun.$inject=['routerHelper'];function appRun(routerHelper){var adminvalidition="No";angular.forEach(Links,function(data){if(data.LinkName=="ViewDetails"||data.LinkName=="ViewDetailsForAdmin"){adminvalidition="Yes"}});if(adminvalidition=="Yes"){routerHelper.configureStates(getStates())}else{routerHelper.configureStates(getStateshome())}}function getStates(){return[{state:'masterScore',config:{url:'/masterScore',templateUrl:'app/masterScore/masterScore.html',controller:'masterScoreController',controllerAs:'vm',title:'Score & Proficiency',requireADLogin:false}}]}function getStateshome(){return[{state:'masterScore2',config:{url:'/myMultiSkillGroup',templateUrl:'app/multiSkillGroup/myMultiSkillGroup.html',controller:'myMultiSkillGroupController',controllerAs:'vm',title:'Home',requireADLogin:false}}]}})();(function(){angular.module('app.myMultiSkillGroup').controller('myMultiSkillGroupController',myMultiSkillGroupController);myMultiSkillGroupController.$inject=['$q','dataservice','logger','$scope','app.constants','$state','authservice','$interval'];function myMultiSkillGroupController($q,dataservice,logger,$scope,constants,$state,authservice,$interval){var vm=this;var uservalidation=User;vm.peoplekey=constants.global.peopleKey;if(uservalidation=="Yes"){vm.showword=false;vm.showc=true;vm.tabcontent=true;vm.isLoading=true;activate()}else{vm.showword=true;vm.showc=false;vm.tabcontent=false}var i;vm.corePage=1;vm.mandatoryPage=1;vm.itemPerPage=10;vm.showContent=false;vm.message=constants.message.noMultiskill;vm.ratingdesc='Proficiency discription goes here!';function activate(){var promises=[getPeopleMSData(vm.peoplekey)];return $q.all(promises).then(function(){vm.coreTotalPage=Math.max(Math.ceil(vm.coreSkillCount/vm.itemPerPage)||0,1);vm.mandatoryTotalPage=Math.max(Math.ceil(vm.mandatorySkillCount/vm.itemPerPage)||0,1)},function(error){$state.go('error')})}function getPeopleMSData(peoplekey){return dataservice.getPeopleMSData(peoplekey).then(function(data){vm.data=data;vm.masterID=data.SGCapMsID;vm.skillHierarchy=data.ActSkhier;vm.itemPerPage=data.PageSize;vm.showProficiency=data.ProfSwitch;if(data.SGCapSkillTotalCount!=0){vm.core=data.SGCapSkill[0];vm.mandatory=data.SGCapSkill[1];vm.currentCore=vm.core.Skillhier;vm.currentMandatory=vm.mandatory.Skillhier;vm.coreSkillCount=vm.core.SkillCount;vm.mandatorySkillCount=vm.mandatory.SkillCount}else{vm.core=null;vm.mandatory=null;vm.currentCore=null;vm.currentMandatory=null;vm.coreSkillCount=0;vm.mandatorySkillCount=0}vm.title=vm.skillHierarchy.CapName+' - '+vm.data.SGroupName;vm.showContent=true;vm.isLoading=false},function(error){$state.go('error')})}vm.firstlogin=false;vm.getPeopleMSSkillData=function(){vm.firstlogin=true;vm.modalLoading=true;vm.errordata=false;return dataservice.getPeopleMSSkillData(vm.peoplekey).then(function(data){vm.skilldata=data;vm.skillPage=1;vm.skillXlist=data.employeeSkillList;vm.SkillTotalCount=data.SkillTotalCount;vm.skilltotalscore=data.SkillTotalScore;vm.skillTotalPage=Math.max(Math.ceil(data.SkillTotalCount/vm.itemPerPage)||0,1);vm.modalLoading=false},function(error){if(error.Message=="error: can't display"){vm.errormsg=constants.message.errorproficiency;vm.modalLoading=false;vm.errordata=true}else{$state.go('error')}})};$scope.$watch('vm.corePage',function(){if(vm.masterID!==undefined){vm.getCurrentCore(vm.masterID,'C',vm.corePage)}});$scope.$watch('vm.mandatoryPage',function(){if(vm.masterID!==undefined){vm.getCurrentMandatory(vm.masterID,'M',vm.mandatoryPage)}});vm.getfirstlogin=function(){vm.firstlogin=false;if(vm.skillPage!==undefined&&vm.firstlogin!=true){vm.getCurrentpeopleSkill(vm.peoplekey,vm.skillPage)}};vm.getCurrentCore=function(masterID,flag,page){return dataservice.getCurrentSkill(vm.peoplekey,masterID,flag,page).then(function(data){vm.currentCore=data[0].Skillhier}),function(){$state.go('error')}};vm.getCurrentMandatory=function(masterID,flag,page){return dataservice.getCurrentSkill(vm.peoplekey,masterID,flag,page).then(function(data){vm.currentMandatory=data[0].Skillhier}),function(){$state.go('error')}};vm.getCurrentpeopleSkill=function(peoplekey,page){return dataservice.getCurrentpeopleSkillpage(peoplekey,page).then(function(data){vm.skillXlist=data.employeeSkillList}),function(){$state.go('error')}};$interval(RefreshJwt,constants.global.tokenInterval);function RefreshJwt(){console.log('starting get jwt');if(ENABLE_ESO.toUpperCase()=="YES"){authservice.getJwtToken().then(function(data){jwt=data.access_token;console.log("getJWTToken: "+new Date+jwt)},function(error){console.log("getJWTToken: "+new Date+"ESO token expired.")})}}}})();(function(){angular.module('app.myMultiSkillGroup').run(appRun);appRun.$inject=['routerHelper'];function appRun(routerHelper){routerHelper.configureStates(getStates())}function getStates(){return[{state:'index',config:{url:'/',templateUrl:'app/multiSkillGroup/myMultiSkillGroup.html',controller:'myMultiSkillGroupController',controllerAs:'vm',title:'Home'}},{state:'myMultiSkillGroup',config:{url:'/myMultiSkillGroup',templateUrl:'app/multiSkillGroup/myMultiSkillGroup.html',controller:'myMultiSkillGroupController',controllerAs:'vm',title:'Home',requireADLogin:false}}]}})();(function(){angular.module('app.roleSpecialization').controller('roleSpecializationController',roleSpecializationController);roleSpecializationController.$inject=['$location','$q','dataservice','logger','$scope','app.constants','$state','authservice','$interval'];function roleSpecializationController($location,$q,dataservice,logger,$scope,constants,$state,authservice,$interval){var vm=this;vm.isLoading=true;var uservalidation="RCLC";vm.peoplekey=constants.global.peopleKey;vm.itemPerPage=20;vm.ScroePage=10;getCapleaderViewSkills();function getCapleaderViewSkills(){vm.isLoading=true;vm.modalLoading=true;vm.errordata=false;return dataservice.getCapleaderViewSkills(uservalidation).then(function(data){if(data.length>0){vm.selectedCap=data[0];vm.selectedCapid=data[0].SkillID}else{vm.TotalCount=0;vm.modalLoading=false;vm.errormsg=constants.message.noMultiskill;vm.errordata=true;vm.isLoading=false}vm.capability=data;vm.isLoading=false},function(error){if(error.Message=="error:Haven't permission"){vm.TotalCount=0;vm.modalLoading=false;vm.errormsg=constants.message.noPermission;vm.errordata=true}else if(error.Message=="Authorization has been denied for this request."){vm.TotalCount=0;vm.modalLoading=false;vm.errormsg=constants.message.noPermission;vm.errordata=true}else{$state.go('error')}vm.isLoading=false}).then(function(){if(vm.selectedCapid!=0){vm.getMSGroup(vm.selectedCapid)}})}vm.addData=function(){if(vm.rolename!=null&&vm.selectedCapid!=0&&vm.rolename!=""){bootbox.dialog({message:"Do you want to add Role Specialization?",buttons:{Cancel:{label:"Cancel",className:"btn-group",callback:function(){}},OK:{label:"OK",className:"btn-group",callback:function(){var mydata={CapabilityId:vm.selectedCap.SkillID,CapabilityName:vm.selectedCap.SkillName,RoleSpeciallizationName:vm.rolename,RoleDefinition:vm.comment};dataservice.SpecializationAdd(mydata).then(function(data){vm.rolename=null;vm.comment=null;bootbox.alert("Add Role Specialization Successfully.");if(vm.selectedCapid!=0){vm.getMSGroup(vm.selectedCap.SkillID)}},function(error){logger.error("This role specialization is already exsited for this capability ,cannot add again.")})}}}})}};vm.roleid=null;vm.SetParameters=function(param){vm.roleid=param.RoleSpeciallizationId;vm.editrolename=param.RoleSpeciallizationName;vm.definition=param.RoleDefinition};vm.ClearParameters=function(){vm.roleid=null;vm.editrolename=null;vm.definition=null};vm.renameData=function(){if(vm.roleid!=0&&vm.selectedCapid!=0&&vm.editrolename!=""&&vm.editrolename!=null){bootbox.dialog({message:"Do you want to Update Role Specialization?",buttons:{Cancel:{label:"Cancel",className:"btn-group",callback:function(){}},OK:{label:"OK",className:"btn-group",callback:function(){var mydata={RoleSpeciallizationId:vm.roleid,CapabilityId:vm.selectedCap.SkillID,CapabilityName:vm.selectedCap.SkillName,RoleSpeciallizationName:vm.editrolename,RoleDefinition:vm.definition};dataservice.SpecializationRename(mydata).then(function(data){bootbox.alert("Update Role Specialization Successfully.");if(vm.selectedCapid!=0){vm.getMSGroup(vm.selectedCap.SkillID)}},function(error){logger.error(constants.message.errorLoadingData)})}}}})}};vm.deleteData=function(roleid,RoleMappingCount){if(RoleMappingCount==0){bootbox.dialog({message:"Do you want to Detele Role Specialization?",buttons:{Cancel:{label:"Cancel",className:"btn-group",callback:function(){}},OK:{label:"OK",className:"btn-group",callback:function(){var mydata={RoleSpeciallizationId:roleid};dataservice.SpecializationDetele(mydata).then(function(data){bootbox.alert("Delete Role Specialization Successfully.");if(vm.selectedCapid!=0){vm.getMSGroup(vm.selectedCap.SkillID)}},function(error){logger.error(constants.message.errorLoadingData)})}}}})}else{bootbox.dialog({message:": "+RoleMappingCount+" employees mapped to this role specialization ,you cannot delete this role specialization.",buttons:{Cancel:{label:"Cancel",className:"btn-group"},OK:{label:"OK",className:"btn-group"}}})}};vm.editData=function(){$location.path('/master')};vm.getMSGroup=function(capabilityid){vm.isLoading=true;vm.rolename=null;vm.comment=null;if(angular.isDefined(capabilityid)){vm.selectedSG=null;dataservice.GetRoleSpeciallization(capabilityid).then(function(data){vm.msgroup=data;vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData)})}};$scope.$watch('vm.Page',function(){vm.isLoading=true;if(vm.capabilityid!=null){dataservice.postMultiSkillUserList(vm.capabilityid,vm.roleid,vm.userid,vm.Page).then(function(data){if(data!=null){vm.data=data.CapScoreProficencyList}vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData)})}});vm.getCurrentCore=function(capabilityid,roleid,userid,page){return dataservice.postMultiSkillUserList(capabilityid,roleid,userid,page).then(function(data){if(data.length>0){vm.currentCore=data[0].Skillhier}}),function(){$state.go('error')}};vm.messagePCC=constants.message.noResultsFound}})();(function(){angular.module('app.roleSpecialization').run(appRun);appRun.$inject=['routerHelper'];function appRun(routerHelper){var adminvalidition="No";angular.forEach(Links,function(data){if(data.LinkName=="Config"){adminvalidition="Yes"}});if(adminvalidition=="Yes"){routerHelper.configureStates(getStates())}else{routerHelper.configureStates(getStateshome())}}function getStates(){return[{state:'roleSpecialization',config:{url:'/roleSpecialization',templateUrl:'app/roleSpecialization/roleSpecialization.html',controller:'roleSpecializationController',controllerAs:'vm',title:'Configuration',requireADLogin:false}}]}function getStateshome(){return[{state:'myMultiSkillGroupforproficiency',config:{url:'/myMultiSkillGroup',templateUrl:'app/multiSkillGroup/myMultiSkillGroup.html',controller:'myMultiSkillGroupController',controllerAs:'vm',title:'myMultiSkillGroup',requireADLogin:false}}]}})();(function(){angular.module('app.process').controller('processController',processController);processController.$inject=['$q','dataservice','logger','$scope','$interval','app.constants','$state'];function processController($q,dataservice,logger,$scope,$interval,constants,$state){var vm=this;vm.peoplekey=constants.global.peopleKey;vm.isLoading=true;vm.timer=null;vm.isAdmin=true;activate();function activate(){vm.errordata=false;var promises=[getProcessStatus(),getKey()];return $q.all(promises).then(function(){vm.showContent=true},function(error){if(error.Message=="error:Haven't permission"){vm.errormsg=constants.message.noPermission;vm.errordata=true}else if(error.Message=="Authorization has been denied for this request."){vm.errormsg=constants.message.noPermission;vm.errordata=true}else{$state.go('error')}vm.isLoading=false})}function getProcessStatus(){vm.errordata=false;return dataservice.getProcessStatus().then(function(data){vm.progressvalue=data.Percent;vm.allcount=data.AllCount;vm.currentcount=data.Current;vm.processedBy=data.PeopleKey;vm.isProcessing=data.IsProcessing;vm.status=data.Status;if(vm.processedBy!=vm.peoplekey){vm.buttonEnabled=true;vm.isLoading=false}else{if(vm.isProcessing==true){vm.buttonEnabled=false}else{vm.buttonEnabled=true;vm.isLoading=false}}if(vm.isProcessing==true&&vm.processedBy==vm.peoplekey){if(angular.isDefined(vm.timer)){$interval.cancel(vm.timer)}vm.startTimer()}if(vm.processedBy!=vm.peoplekey&&vm.processedBy!=0&&vm.isProcessing==true){vm.owner=false}else{vm.owner=true}},function(error){if(error.Message=="error:Haven't permission"){vm.errormsg=constants.message.noPermission;vm.errordata=true}else if(error.Message=="Authorization has been denied for this request."){vm.errormsg=constants.message.noPermission;vm.errordata=true}else{$state.go('error')}vm.isLoading=false})}vm.startProcess=function(){getCurrentStatus()};vm.startTimer=function(){vm.timer=$interval(function(){return dataservice.getProcessStatus().then(function(data){vm.progressvalue=data.Percent;vm.allcount=data.AllCount;vm.currentcount=data.Current;vm.processedBy=data.processedBy;vm.isProcessing=data.IsProcessing;vm.status=data.Status;vm.buttonEnabled=false;vm.isLoading=false;if(vm.status=='Inprocessing'){vm.message='Processing...'}else if(vm.status=='Failed'){vm.message='Processing failed.';if(angular.isDefined(vm.timer)){$interval.cancel(vm.timer)}vm.buttonEnabled=true}else if(vm.status=='Succeeded'){vm.message='Process completed.';if(angular.isDefined(vm.timer)){$interval.cancel(vm.timer)}vm.buttonEnabled=true}},function(error){if(angular.isDefined(vm.timer)){$interval.cancel(vm.timer)}$state.go('error');vm.isLoading=false})},3000)};function getKey(){var mydata={ConfigKeys:['Display_Proscore','Display_Prof']};return dataservice.getKey(mydata).then(function(data){angular.forEach(data,function(value,key){if(data[key].ConfigKey=="Display_Prof"){vm.proficiencyDisplay=(data[key].ConfigValue=='Y')?true:false}else if(data[key].ConfigKey=="Display_ProScore"){vm.scoreDisplay=(data[key].ConfigValue=='Y')?true:false}})})}vm.updateKey=function(proficiencyDisplay){vm.isLoading=true;vm.configkey="Display_Prof";var value=(proficiencyDisplay==true)?'Y':'N';return dataservice.updateKey(vm.peoplekey,vm.isAdmin,vm.configkey,value).then(function(data){bootbox.alert("View proficiency key has been set successfully.");vm.isLoading=false}),function(){$state.go('error')}};vm.updateScore=function(ScoreDisplay){vm.isLoading=true;vm.configkey="Display_Proscore";var value=(ScoreDisplay==true)?'Y':'N';return dataservice.updateKey(vm.peoplekey,vm.isAdmin,vm.configkey,value).then(function(data){bootbox.alert("View Technical Score key has been set successfully.");vm.isLoading=false}),function(){$state.go('error')}};function getCurrentStatus(){dataservice.getProcessStatus().then(function(data){vm.message='Processing...';vm.progressvalue=0;vm.currentcount=0;vm.processedBy=data.PeopleKey;vm.isProcessing=data.IsProcessing;vm.status=data.Status;if(vm.processedBy!=vm.peoplekey){vm.buttonEnabled=true}else{if(vm.isProcessing==true){vm.buttonEnabled=false}else{vm.buttonEnabled=true}}if(vm.isProcessing==true&&vm.processedBy==vm.peoplekey){if(angular.isDefined(vm.timer)){$interval.cancel(vm.timer)}vm.startTimer()}if(vm.processedBy!=vm.peoplekey&&vm.processedBy!=0&&vm.isProcessing==true){vm.owner=false}else{vm.owner=true}if(vm.owner==true){vm.buttonEnabled=false;vm.isLoading=true;return dataservice.startProcess(vm.peoplekey,vm.isAdmin).then(function(data){if(angular.isDefined(vm.timer)){$interval.cancel(vm.timer)}vm.startTimer()}),function(){}}else{bootbox.alert("Another process is in progress.")}},function(error){$state.go('error')})}}})();(function(){angular.module('app.process').run(appRun);appRun.$inject=['routerHelper'];function appRun(routerHelper){var adminvalidition="No";angular.forEach(Links,function(data){if(data.LinkName=="Process"){adminvalidition="Yes"}});if(adminvalidition=="Yes"){routerHelper.configureStates(getStates())}else{routerHelper.configureStates(getStateshome())}}function getStates(){return[{state:'process',config:{url:'/process',templateUrl:'app/process/process.html',controller:'processController',controllerAs:'vm',title:'Process',requireADLogin:false}}]}function getStateshome(){return[{state:'myMultiSkillGroup2',config:{url:'/myMultiSkillGroup',templateUrl:'app/multiSkillGroup/myMultiSkillGroup.html',controller:'myMultiSkillGroupController',controllerAs:'vm',title:'Home',requireADLogin:false}}]}})();(function(){angular.module('app.proficiencyconfig').controller('proficiencyconfigController',proficiencyconfigController);proficiencyconfigController.$inject=['$q','dataservice','logger','$scope','app.constants','$state','$location','$timeout'];function proficiencyconfigController($q,dataservice,logger,$scope,constants,$state,$location,$timeout){var vm=this;function Setvalue(){vm.LeadershipTechnical=80;vm.LeadershipContributions=10;vm.LeadershipCertification=10;vm.L5Technical=80;vm.L5Contributions=10;vm.L5Certification=10;vm.L6Technical=80;vm.L6Contributions=10;vm.L6Certification=10;vm.L7Technical=80;vm.L7Contributions=10;vm.L7Certification=10;vm.L8Technical=80;vm.L8Contributions=10;vm.L8Certification=10;vm.L9Technical=80;vm.L9Contributions=10;vm.L9Certification=10;vm.L10Technical=80;vm.L10Contributions=10;vm.L10Certification=10;vm.L11Technical=80;vm.L11Contributions=10;vm.L11Certification=10;vm.L12Technical=80;vm.L12Contributions=10;vm.L12Certification=10;vm.L13Technical=80;vm.L13Contributions=10;vm.L13Certification=10}vm.tablevalidation=false;vm.peoplekey=constants.global.peopleKey;vm.enterprise=constants.global.enterpriseId;vm.uservalidation="RC";if(Admin=='Yes'){vm.isAdmin=true}else{vm.isAdmin=false}vm.compareResult=true;vm.compareResultExp=true;vm.message=constants.message.noResultsFound;vm.messageExp=constants.message.noResultsFound;vm.messagePCC=constants.message.noResultsFound;$(window).unbind('hashchange');$(window).on('hashchange',function(e){e.preventDefault();elementLoad()});function elementLoad(){$("#tab_content").find("div.tab-pane").removeClass("active");$("#ul_content").find("li").removeClass("active");var h=window.location.hash;if(angular.isDefined(h)){var tab=$(h);var ulli=$(h+"_li");if(tab.size()>0&&ulli.size()>0){tab.addClass("active");ulli.addClass("active");if(window.location.hash=='#techcertcont'){getLevel()}}else{var activeTab;var activeLi;activeTab="#total";activeLi="#total_li";$(activeTab).addClass("active");$(activeLi).addClass("active")}}else{var activeTab;var activeLi;activeTab="#total";activeLi="#total_li";$(activeTab).addClass("active");$(activeLi).addClass("active")}}getCapability();Setvalue();function getCapability(){vm.isLoading=true;vm.errordata=false;dataservice.getCapleaderViewSkills(vm.uservalidation).then(function(data){vm.capability=data;elementLoad();if(window.location.hash=="#techcertcont"){}else{vm.isLoading=false}},function(error){if(error.Message=="error:Haven't permission"){vm.errormsg=constants.message.noPermission;vm.errordata=true}else if(error.Message=="Authorization has been denied for this request."){vm.errormsg=constants.message.noPermission;vm.errordata=true}else{$state.go('error')}vm.isLoading=false})}vm.compare=function(m,n){if(Number(m)<=Number(n)){return true}else{return false}};vm.getMSGroup=function(capabilityid){Setvalue();vm.isLoading=true;if(angular.isDefined(vm.currentCap)&&vm.currentCap!=capabilityid){vm.selectedSG=null;vm.totalSettingP1=null;vm.totalSettingP2=null;vm.totalSettingP3=null;vm.totalSettingP4=null;$scope.TotalForm.$setPristine();$scope.ExperienceForm.$setPristine();vm.selectedExpSG=null;vm.expSettingP1=null;vm.expSettingP2=null;vm.expSettingP3=null;vm.expSettingP4=null;vm.expSettingPri=null;vm.expSettingSec=null;vm.expSettingApprover=null;$scope.proficinecyForm.$setPristine();vm.info.TechW=null;vm.info.ContW=null;vm.info.CertW=null;vm.info.ApprEnterpriseID=null;vm.SG=null};if(angular.isDefined(capabilityid)){vm.currentCap=capabilityid;dataservice.getMSGroup(capabilityid).then(function(data){vm.msgroup=data;vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData)})}else{vm.msgroup=null;vm.selectedSG=null;vm.totalSettingP1=null;vm.totalSettingP2=null;vm.totalSettingP3=null;vm.totalSettingP4=null;$scope.TotalForm.$setPristine();vm.isLoading=false;vm.msgroupExp=null;vm.selectedExpSG=null;vm.expSettingP1=null;vm.expSettingP2=null;vm.expSettingP3=null;vm.expSettingP4=null;vm.expSettingPri=null;vm.expSettingSec=null;vm.expSettingApprover=null;vm.isLoading=false;$scope.ExperienceForm.$setPristine()}};vm.getTotalSetting=function(levelID,SGCapMsID){vm.noResults=false;vm.isLoading=true;vm.validationResult=true;vm.tablevalidation=true;if(angular.isDefined(SGCapMsID)){dataservice.getTotalSetting(SGCapMsID).then(function(data){vm.totalSettingP1=Number(data.P1);vm.totalSettingP2=Number(data.P2);vm.totalSettingP3=Number(data.P3);vm.totalSettingP4=Number(data.P4)},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false})}else{vm.totalSettingP1=null;vm.totalSettingP2=null;vm.totalSettingP3=null;vm.totalSettingP4=null;vm.isLoading=false}$scope.TotalForm.$setPristine();if(angular.isDefined(SGCapMsID)){dataservice.getExpSetting(SGCapMsID).then(function(data){vm.expSettingP1=Number(data.P1);vm.expSettingP2=Number(data.P2);vm.expSettingP3=Number(data.P3);vm.expSettingP4=Number(data.P4);vm.expSettingPri=Number(data.Pri);vm.expSettingSec=Number(data.Sec);vm.expSettingApprover=data.ApproverEID;vm.isLoading=false;$scope.ExperienceForm.$setPristine()},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false})}else{vm.expSettingP1=null;vm.expSettingP2=null;vm.expSettingP3=null;vm.expSettingP4=null;vm.expSettingPri=null;vm.expSettingSec=null;vm.expSettingApprover=null;vm.isLoading=false;$scope.ExperienceForm.$setPristine()}if(angular.isDefined(SGCapMsID)){dataservice.weightconfig(SGCapMsID).then(function(data){vm.LeadershipTechnical=data[0].Technical;vm.LeadershipContributions=data[0].Contributions;vm.LeadershipCertification=data[0].Certification;vm.LeadershipCareerLevelId=data[0].CareerLevelId;vm.L5Technical=data[1].Technical;vm.L5Contributions=data[1].Contributions;vm.L5Certification=data[1].Certification;vm.L5CareerLevelId=data[1].CareerLevelId;vm.L6Technical=data[2].Technical;vm.L6Contributions=data[2].Contributions;vm.L6Certification=data[2].Certification;vm.L6CareerLevelId=data[2].CareerLevelId;vm.L7Technical=data[3].Technical;vm.L7Contributions=data[3].Contributions;vm.L7Certification=data[3].Certification;vm.L7CareerLevelId=data[3].CareerLevelId;vm.L8Technical=data[4].Technical;vm.L8Contributions=data[4].Contributions;vm.L8Certification=data[4].Certification;vm.L8CareerLevelId=data[4].CareerLevelId;vm.L9Technical=data[5].Technical;vm.L9Contributions=data[5].Contributions;vm.L9Certification=data[5].Certification;vm.L9CareerLevelId=data[5].CareerLevelId;vm.L10Technical=data[6].Technical;vm.L10Contributions=data[6].Contributions;vm.L10Certification=data[6].Certification;vm.L10CareerLevelId=data[6].CareerLevelId;vm.L11Technical=data[7].Technical;vm.L11Contributions=data[7].Contributions;vm.L11Certification=data[7].Certification;vm.L11CareerLevelId=data[7].CareerLevelId;vm.L12Technical=data[8].Technical;vm.L12Contributions=data[8].Contributions;vm.L12Certification=data[8].Certification;vm.L12CareerLevelId=data[8].CareerLevelId;vm.L13Technical=data[9].Technical;vm.L13Contributions=data[9].Contributions;vm.L13Certification=data[9].Certification;vm.L13CareerLevelId=data[9].CareerLevelId},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false})}else{}};vm.GetlevelData=function(SGCapMsID){dataservice.GetPCCData(mappid).then(function(data){vm.info.TechW=data.TechWeightage;vm.info.ContW=data.ConWeightage;vm.info.CertW=data.CerWeightage;vm.info.ApprEnterpriseID=vm.enterprise;vm.isLoading=false;$scope.TechForm.$setPristine()},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false})};$scope.$watch('vm.totalSettingP1+vm.totalSettingP2+vm.totalSettingP3+vm.totalSettingP4',function(){if((Number(vm.totalSettingP4)>Number(vm.totalSettingP3))&&(Number(vm.totalSettingP3)>Number(vm.totalSettingP2))&&(Number(vm.totalSettingP2)>Number(vm.totalSettingP1))&&(Number(vm.totalSettingP1)>0)){vm.compareResult=true}else{vm.compareResult=false};if(angular.isDefined(vm.totalSettingP1)&&vm.totalSettingP1!=''&&vm.totalSettingP1!=null){vm.totalSettingP1=vm.totalSettingP1.toString().replace(/[^\d.]/g,"");if(!vm.totalSettingP1.contains('.')&&vm.totalSettingP1!=''){vm.totalSettingP1=Number(vm.totalSettingP1)}else{vm.totalSettingP1=vm.totalSettingP1.replace(/^\./g,"");vm.totalSettingP1=vm.totalSettingP1.replace(".","$#$").replace(/\./g,"").replace("$#$",".")}};if(angular.isDefined(vm.totalSettingP2)&&vm.totalSettingP2!=''&&vm.totalSettingP2!=null){vm.totalSettingP2=vm.totalSettingP2.toString().replace(/[^\d.]/g,"");if(!vm.totalSettingP2.contains('.')&&vm.totalSettingP2!=''){vm.totalSettingP2=Number(vm.totalSettingP2)}else{vm.totalSettingP2=vm.totalSettingP2.replace(/^\./g,"");vm.totalSettingP2=vm.totalSettingP2.replace(".","$#$").replace(/\./g,"").replace("$#$",".")}};if(angular.isDefined(vm.totalSettingP3)&&vm.totalSettingP3!=''&&vm.totalSettingP3!=null){vm.totalSettingP3=vm.totalSettingP3.toString().replace(/[^\d.]/g,"");if(!vm.totalSettingP3.contains('.')&&vm.totalSettingP3!=''){vm.totalSettingP3=Number(vm.totalSettingP3)}else{vm.totalSettingP3=vm.totalSettingP3.replace(/^\./g,"");vm.totalSettingP3=vm.totalSettingP3.replace(".","$#$").replace(/\./g,"").replace("$#$",".")}};if(angular.isDefined(vm.totalSettingP4)&&vm.totalSettingP4!=''&&vm.totalSettingP4!=null){vm.totalSettingP4=vm.totalSettingP4.toString().replace(/[^\d.]/g,"");if(!vm.totalSettingP4.contains('.')&&vm.totalSettingP4!=''){vm.totalSettingP4=Number(vm.totalSettingP4)}else{vm.totalSettingP4=vm.totalSettingP4.replace(/^\./g,"");vm.totalSettingP4=vm.totalSettingP4.replace(".","$#$").replace(/\./g,"").replace("$#$",".")}};});vm.submitTotalForm=function(){vm.isLoading=true;var obj={P1:Number(vm.totalSettingP1),P2:Number(vm.totalSettingP2),P3:Number(vm.totalSettingP3),P4:Number(vm.totalSettingP4),ApproverEID:vm.enterprise,PeopleKey:vm.peoplekey,SGCapMsID:vm.selectedSG.SGCapMsID};dataservice.updateTotalSetting(obj).then(function(){logger.success(constants.message.successSavingData);vm.isLoading=false;$scope.TotalForm.$setPristine()},function(error){if(error.Message=="Invalid EID"){vm.namePassed=false}else{logger.error(constants.message.errorSavingData)};vm.isLoading=false})};vm.searchResource=function(val){var obj={EnterpriseID:val};vm.namePassed=false;vm.noResults=false;return dataservice.getResource(obj).then(function(data){if(data.length!=0){return $.map(data,function(item){if(item.EnterpriseID==val){vm.namePassed=true}return item.EnterpriseID})}else{vm.noResults=true;vm.message=constants.message.noResultsFound;vm.namePassed=false};},function(error){logger.error(constants.message.errorSavingData)})};vm.selectName=function(){vm.namePassed=true;vm.noResults=false};vm.reset=function(){vm.totalSettingP1=null;vm.totalSettingP2=null;vm.totalSettingP3=null;vm.totalSettingP4=null;$scope.TotalForm.$setPristine()};vm.checkNum=function(event){if((event.keyCode==46||(event.keyCode>=48&&event.keyCode<=57||event.keyCode==8))||(event.which==46||event.which>=48&&event.which<=57||event.which==8)){return}else{event.preventDefault()};};vm.checkExp=function(event){if(((event.keyCode>=48&&event.keyCode<=57||event.keyCode==8))||(event.which>=48&&event.which<=57||event.which==8)){return}else{event.preventDefault()};};vm.getMSGroupExp=function(capabilityid){vm.isLoading=true;if(angular.isDefined(vm.currentExpCap)&&vm.currentExpCap!=capabilityid){$scope.ExperienceForm.$setPristine();vm.selectedExpSG=null;vm.expSettingP1=null;vm.expSettingP2=null;vm.expSettingP3=null;vm.expSettingP4=null;vm.expSettingPri=null;vm.expSettingSec=null;vm.expSettingApprover=null};if(angular.isDefined(capabilityid)){vm.currentExpCap=capabilityid;return dataservice.getMSGroup(capabilityid).then(function(data){vm.msgroupExp=data;vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData)})}else{vm.msgroupExp=null;vm.selectedExpSG=null;vm.expSettingP1=null;vm.expSettingP2=null;vm.expSettingP3=null;vm.expSettingP4=null;vm.expSettingPri=null;vm.expSettingSec=null;vm.expSettingApprover=null;vm.isLoading=false;$scope.ExperienceForm.$setPristine()};};vm.getExpSetting=function(msgid){vm.isLoading=true;vm.noResultsExp=false;if(angular.isDefined(msgid)){dataservice.getExpSetting(msgid).then(function(data){vm.expSettingP1=Number(data.P1);vm.expSettingP2=Number(data.P2);vm.expSettingP3=Number(data.P3);vm.expSettingP4=Number(data.P4);vm.expSettingPri=Number(data.Pri);vm.expSettingSec=Number(data.Sec);vm.expSettingApprover=data.ApproverEID;vm.isLoading=false;$scope.ExperienceForm.$setPristine()},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false}).then(function(){if(vm.expSettingApprover!=''&&angular.isDefined(vm.expSettingApprover)){dataservice.checkResource(vm.expSettingApprover).then(function(data){if(data.exists==true){vm.namePassedExp=true;vm.noResultsExp=false}else{vm.noResultsExp=true;vm.namePassedExp=false;vm.messageExp=constants.message.approverNotActive};vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false})}else{vm.isLoading=false}})}else{vm.expSettingP1=null;vm.expSettingP2=null;vm.expSettingP3=null;vm.expSettingP4=null;vm.expSettingPri=null;vm.expSettingSec=null;vm.expSettingApprover=null;vm.isLoading=false;$scope.ExperienceForm.$setPristine()};};$scope.$watch('vm.expSettingP1+vm.expSettingP2+vm.expSettingP3+vm.expSettingP4+vm.expSettingPri+vm.expSettingSec',function(){if((Number(vm.expSettingP4)>Number(vm.expSettingP3))&&(Number(vm.expSettingP3)>Number(vm.expSettingP2))&&(Number(vm.expSettingP2)>Number(vm.expSettingP1))&&(Number(vm.expSettingP1)>0)){vm.compareExpResult=true}else{vm.compareExpResult=false};if(angular.isDefined(vm.expSettingP1)&&vm.expSettingP1!=''&&vm.expSettingP1!=null){vm.expSettingP1=vm.expSettingP1.toString().replace(/[^\d]/g,"");if(vm.expSettingP1!=''){vm.expSettingP1=Number(vm.expSettingP1)}};if(angular.isDefined(vm.expSettingP2)&&vm.expSettingP2!=''&&vm.expSettingP2!=null){vm.expSettingP2=vm.expSettingP2.toString().replace(/[^\d]/g,"");if(vm.expSettingP2!=''){vm.expSettingP2=Number(vm.expSettingP2)}};if(angular.isDefined(vm.expSettingP3)&&vm.expSettingP3!=''&&vm.expSettingP3!=null){vm.expSettingP3=vm.expSettingP3.toString().replace(/[^\d]/g,"");if(vm.expSettingP3!=''){vm.expSettingP3=Number(vm.expSettingP3)}};if(angular.isDefined(vm.expSettingP4)&&vm.expSettingP4!=''&&vm.expSettingP4!=null){vm.expSettingP4=vm.expSettingP4.toString().replace(/[^\d]/g,"");if(vm.expSettingP4!=''){vm.expSettingP4=Number(vm.expSettingP4)}};if(angular.isDefined(vm.expSettingPri)&&vm.expSettingPri!=''&&vm.expSettingPri!=null){vm.expSettingPri=vm.expSettingPri.toString().replace(/[^\d]/g,"");if(vm.expSettingPri!=''){vm.expSettingPri=Number(vm.expSettingPri)}};if(angular.isDefined(vm.expSettingSec)&&vm.expSettingSec!=''&&vm.expSettingSec!=null){vm.expSettingSec=vm.expSettingSec.toString().replace(/[^\d]/g,"");if(vm.expSettingSec!=''){vm.expSettingSec=Number(vm.expSettingSec)}};});$scope.$watch('vm.LeadershipTechnical+vm.LeadershipContributions+vm.LeadershipCertification',function(){if(angular.isDefined(vm.LeadershipTechnical)&&vm.LeadershipTechnical!=''&&vm.LeadershipTechnical!=null){vm.LeadershipTechnical=vm.LeadershipTechnical.toString().replace(/[^\d]/g,"");if(Number(vm.LeadershipTechnical)>100){vm.LeadershipTechnical=""}if(vm.LeadershipTechnical!=''){vm.LeadershipTechnical=Number(vm.LeadershipTechnical)}};if(angular.isDefined(vm.LeadershipContributions)&&vm.LeadershipContributions!=''&&vm.LeadershipContributions!=null){vm.LeadershipContributions=vm.LeadershipContributions.toString().replace(/[^\d]/g,"");if(Number(vm.LeadershipContributions)>100){vm.LeadershipContributions=""}if(vm.LeadershipContributions!=''){vm.LeadershipContributions=Number(vm.LeadershipContributions)}};if(angular.isDefined(vm.LeadershipCertification)&&vm.LeadershipCertification!=''&&vm.LeadershipCertification!=null){vm.LeadershipCertification=vm.LeadershipCertification.toString().replace(/[^\d]/g,"");if(Number(vm.LeadershipCertification)>100){vm.LeadershipCertification=""}if(vm.LeadershipCertification!=''){vm.LeadershipCertification=Number(vm.LeadershipCertification)}};});$scope.$watch('vm.L5Technical+vm.L5Contributions+vm.L5Certification',function(){if(angular.isDefined(vm.L5Technical)&&vm.L5Technical!=''&&vm.L5Technical!=null){vm.L5Technical=vm.L5Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L5Technical)>100){vm.L5Technical=""}if(vm.L5Technical!=''){vm.L5Technical=Number(vm.L5Technical)}};if(angular.isDefined(vm.L5Contributions)&&vm.L5Contributions!=''&&vm.L5Contributions!=null){vm.L5Contributions=vm.L5Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L5Contributions)>100){vm.L5Contributions=""}if(vm.L5Contributions!=''){vm.L5Contributions=Number(vm.L5Contributions)}};if(angular.isDefined(vm.L5Certification)&&vm.L5Certification!=''&&vm.L5Certification!=null){vm.L5Certification=vm.L5Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L5Certification)>100){vm.L5Certification=""}if(vm.L5Certification!=''){vm.L5Certification=Number(vm.L5Certification)}};});$scope.$watch('vm.L6Technical+vm.L6Contributions+vm.L6Certification',function(){if(angular.isDefined(vm.L6Technical)&&vm.L6Technical!=''&&vm.L6Technical!=null){vm.L6Technical=vm.L6Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L6Technical)>100){vm.L6Technical=""}if(vm.L6Technical!=''){vm.L6Technical=Number(vm.L6Technical)}};if(angular.isDefined(vm.L6Contributions)&&vm.L6Contributions!=''&&vm.L6Contributions!=null){vm.L6Contributions=vm.L6Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L6Contributions)>100){vm.L6Contributions=""}if(vm.L6Contributions!=''){vm.L6Contributions=Number(vm.L6Contributions)}};if(angular.isDefined(vm.L6Certification)&&vm.L6Certification!=''&&vm.L6Certification!=null){vm.L6Certification=vm.L6Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L6Certification)>100){vm.L6Certification=""}if(vm.L6Certification!=''){vm.L6Certification=Number(vm.L6Certification)}};});$scope.$watch('vm.L7Technical+vm.L7Contributions+vm.L7Certification',function(){if(angular.isDefined(vm.L7Technical)&&vm.L7Technical!=''&&vm.L7Technical!=null){vm.L7Technical=vm.L7Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L7Technical)>100){vm.L7Technical=""}if(vm.L7Technical!=''){vm.L7Technical=Number(vm.L7Technical)}};if(angular.isDefined(vm.L7Contributions)&&vm.L7Contributions!=''&&vm.L7Contributions!=null){vm.L7Contributions=vm.L7Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L7Contributions)>100){vm.L7Contributions=""}if(vm.L7Contributions!=''){vm.L7Contributions=Number(vm.L7Contributions)}};if(angular.isDefined(vm.L7Certification)&&vm.L7Certification!=''&&vm.L7Certification!=null){vm.L7Certification=vm.L7Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L7Certification)>100){vm.L7Certification=""}if(vm.L7Certification!=''){vm.L7Certification=Number(vm.L7Certification)}};});$scope.$watch('vm.L8Technical+vm.L8Contributions+vm.L8Certification',function(){if(angular.isDefined(vm.L8Technical)&&vm.L8Technical!=''&&vm.L8Technical!=null){vm.L8Technical=vm.L8Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L8Technical)>100){vm.L8Technical=""}if(vm.L8Technical!=''){vm.L8Technical=Number(vm.L8Technical)}};if(angular.isDefined(vm.L8Contributions)&&vm.L8Contributions!=''&&vm.L8Contributions!=null){vm.L8Contributions=vm.L8Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L8Contributions)>100){vm.L8Contributions=""}if(vm.L8Contributions!=''){vm.L8Contributions=Number(vm.L8Contributions)}};if(angular.isDefined(vm.L8Certification)&&vm.L8Certification!=''&&vm.L8Certification!=null){vm.L8Certification=vm.L8Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L8Certification)>100){vm.L8Certification=""}if(vm.L8Certification!=''){vm.L8Certification=Number(vm.L8Certification)}};});$scope.$watch('vm.L9Technical+vm.L9Contributions+vm.L9Certification',function(){if(angular.isDefined(vm.L9Technical)&&vm.L9Technical!=''&&vm.L9Technical!=null){vm.L9Technical=vm.L9Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L9Technical)>100){vm.L9Technical=""}if(vm.L9Technical!=''){vm.L9Technical=Number(vm.L9Technical)}};if(angular.isDefined(vm.L9Contributions)&&vm.L9Contributions!=''&&vm.L9Contributions!=null){vm.L9Contributions=vm.L9Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L9Contributions)>100){vm.L9Contributions=""}if(vm.L9Contributions!=''){vm.L9Contributions=Number(vm.L9Contributions)}};if(angular.isDefined(vm.L9Certification)&&vm.L9Certification!=''&&vm.L9Certification!=null){vm.L9Certification=vm.L9Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L9Certification)>100){vm.L9Certification=""}if(vm.L9Certification!=''){vm.L9Certification=Number(vm.L9Certification)}};});$scope.$watch('vm.L10Technical+vm.L10Contributions+vm.L10Certification',function(){if(angular.isDefined(vm.L10Technical)&&vm.L10Technical!=''&&vm.L10Technical!=null){vm.L10Technical=vm.L10Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L10Technical)>100){vm.L10Technical=""}if(vm.L10Technical!=''){vm.L10Technical=Number(vm.L10Technical)}};if(angular.isDefined(vm.L10Contributions)&&vm.L10Contributions!=''&&vm.L10Contributions!=null){vm.L10Contributions=vm.L10Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L10Contributions)>100){vm.L10Contributions=""}if(vm.L10Contributions!=''){vm.L10Contributions=Number(vm.L10Contributions)}};if(angular.isDefined(vm.L10Certification)&&vm.L10Certification!=''&&vm.L10Certification!=null){vm.L10Certification=vm.L10Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L10Certification)>100){vm.L10Certification=""}if(vm.L10Certification!=''){vm.L10Certification=Number(vm.L10Certification)}};});$scope.$watch('vm.L11Technical+vm.L11Contributions+vm.L11Certification',function(){if(angular.isDefined(vm.L11Technical)&&vm.L11Technical!=''&&vm.L11Technical!=null){vm.L11Technical=vm.L11Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L11Technical)>100){vm.L11Technical=""}if(vm.L11Technical!=''){vm.L11Technical=Number(vm.L11Technical)}};if(angular.isDefined(vm.L11Contributions)&&vm.L11Contributions!=''&&vm.L11Contributions!=null){vm.L11Contributions=vm.L11Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L11Contributions)>100){vm.L11Contributions=""}if(vm.L11Contributions!=''){vm.L11Contributions=Number(vm.L11Contributions)}};if(angular.isDefined(vm.L11Certification)&&vm.L11Certification!=''&&vm.L11Certification!=null){vm.L11Certification=vm.L11Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L11Certification)>100){vm.L11Certification=""}if(vm.L11Certification!=''){vm.L11Certification=Number(vm.L11Certification)}};});$scope.$watch('vm.L12Technical+vm.L12Contributions+vm.L12Certification',function(){if(angular.isDefined(vm.L12Technical)&&vm.L12Technical!=''&&vm.L12Technical!=null){vm.L12Technical=vm.L12Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L12Technical)>100){vm.L12Technical=""}if(vm.L12Technical!=''){vm.L12Technical=Number(vm.L12Technical)}};if(angular.isDefined(vm.L12Contributions)&&vm.L12Contributions!=''&&vm.L12Contributions!=null){vm.L12Contributions=vm.L12Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L12Contributions)>100){vm.L12Contributions=""}if(vm.L12Contributions!=''){vm.L12Contributions=Number(vm.L12Contributions)}};if(angular.isDefined(vm.L12Certification)&&vm.L12Certification!=''&&vm.L12Certification!=null){vm.L12Certification=vm.L12Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L12Certification)>100){vm.L12Certification=""}if(vm.L12Certification!=''){vm.L12Certification=Number(vm.L12Certification)}};});$scope.$watch('vm.L13Technical+vm.L13Contributions+vm.L13Certification',function(){if(angular.isDefined(vm.L13Technical)&&vm.L13Technical!=''&&vm.L13Technical!=null){vm.L13Technical=vm.L13Technical.toString().replace(/[^\d]/g,"");if(Number(vm.L13Technical)>100){vm.L13Technical=""}if(vm.L13Technical!=''){vm.L13Technical=Number(vm.L13Technical)}};if(angular.isDefined(vm.L13Contributions)&&vm.L13Contributions!=''&&vm.L13Contributions!=null){vm.L13Contributions=vm.L13Contributions.toString().replace(/[^\d]/g,"");if(Number(vm.L13Contributions)>100){vm.L13Contributions=""}if(vm.L13Contributions!=''){vm.L13Contributions=Number(vm.L13Contributions)}};if(angular.isDefined(vm.L13Certification)&&vm.L13Certification!=''&&vm.L13Certification!=null){vm.L13Certification=vm.L13Certification.toString().replace(/[^\d]/g,"");if(Number(vm.L13Certification)>100){vm.L13Certification=""}if(vm.L13Certification!=''){vm.L13Certification=Number(vm.L13Certification)}};});vm.submitExpForm=function(){vm.isLoading=true;var obj={P1:Number(vm.expSettingP1),P2:Number(vm.expSettingP2),P3:Number(vm.expSettingP3),P4:Number(vm.expSettingP4),Pri:Number(vm.expSettingPri),Sec:Number(vm.expSettingSec),ApproverEID:vm.enterprise,PeopleKey:vm.peoplekey,SGCapMsID:vm.selectedSG.SGCapMsID};dataservice.updateExpSetting(obj).then(function(){logger.success(constants.message.successSavingData);vm.isLoading=false;$scope.ExperienceForm.$setPristine()},function(error){if(error.Message=="Invalid EID"){vm.namePassedExp=false}else{logger.error(constants.message.errorSavingData)}vm.isLoading=false})};vm.searchResourceExp=function(val){var obj={EnterpriseID:val};vm.namePassedExp=false;vm.noResultsExp=false;return dataservice.getResource(obj).then(function(data){if(data.length!=0){return $.map(data,function(item){if(item.EnterpriseID==val){vm.namePassedExp=true}return item.EnterpriseID})}else{vm.noResultsExp=true;vm.messageExp=constants.message.noResultsFound;vm.namePassedExp=false}},function(error){logger.error(constants.message.errorSavingData)})};vm.selectNameExp=function(){vm.namePassedExp=true;vm.noResultsExp=false};vm.resetExp=function(){vm.msgroupExp=null;vm.expSettingP1=null;vm.expSettingP2=null;vm.expSettingP3=null;vm.expSettingP4=null;vm.expSettingPri=null;vm.expSettingSec=null;vm.expSettingApprover=null;vm.selectedExpCap=null;vm.selectedExpSG=null;$scope.ExperienceForm.$setPristine()};vm.getMSGroupPCC=function(capabilityid){vm.isLoading=true;if(angular.isDefined(vm.currentPccCap)&&vm.currentPccCap!=capabilityid){$scope.TechForm.$setPristine();vm.info.TechW=null;vm.info.ContW=null;vm.info.CertW=null;vm.info.ApprEnterpriseID=null;vm.SG=null};if(angular.isDefined(capabilityid)){vm.currentPccCap=capabilityid;return dataservice.getMSGroup(capabilityid).then(function(data){vm.msgroupPcc=data;vm.isLoading=false},function(error){})}else{vm.msgroupPcc=null;vm.info.TechW=null;vm.info.ContW=null;vm.info.CertW=null;vm.info.ApprEnterpriseID=null;vm.SG=null;vm.isLoading=false;$scope.TechForm.$setPristine()}};function getLevel(){if(angular.isDefined(vm.levels)==false){vm.isLoading=true;return dataservice.getLevel().then(function(data){vm.levels=data;vm.isLoading=false},function(error){$state.go('error')})}}$scope.$watch('vm.info.TechW+vm.info.ContW+vm.info.CertW',function(){if((Number(vm.info.TechW)>=0&&Number(vm.info.TechW)<=100)&&(Number(vm.info.ContW)>=0&&Number(vm.info.ContW)<=100)&&(Number(vm.info.CertW)>=0&&Number(vm.info.CertW)<=100)&&((Number(vm.info.TechW)+Number(vm.info.ContW)+Number(vm.info.CertW))==100)){vm.validationResult=true;vm.PCCsum=Number(vm.info.TechW)+Number(vm.info.ContW)+Number(vm.info.CertW)}else{vm.validationResult=false;if(vm.info.TechW!=null&&vm.info.ContW!=null&&vm.info.CertW!=null){vm.PCCsum=Number(vm.info.TechW)+Number(vm.info.ContW)+Number(vm.info.CertW)}else{vm.PCCsum=0}};if(angular.isDefined(vm.info.TechW)&&vm.info.TechW!=''&&vm.info.TechW!=null){vm.info.TechW=vm.info.TechW.toString().replace(/[^\d]/g,"");if(vm.info.TechW!=''){vm.info.TechW=Number(vm.info.TechW)}};if(angular.isDefined(vm.info.ContW)&&vm.info.ContW!=''&&vm.info.ContW!=null){vm.info.ContW=vm.info.ContW.toString().replace(/[^\d]/g,"");if(vm.info.ContW!=''){vm.info.ContW=Number(vm.info.ContW)}};if(angular.isDefined(vm.info.CertW)&&vm.info.CertW!=''&&vm.info.CertW!=null){vm.info.CertW=vm.info.CertW.toString().replace(/[^\d]/g,"");if(vm.info.CertW!=''){vm.info.CertW=Number(vm.info.CertW)}};});$scope.$watch('vm.LeadershipTechnical+vm.LeadershipContributions+vm.LeadershipCertification',function(){if((Number(vm.LeadershipTechnical)>=0&&Number(vm.LeadershipTechnical)<=100)&&(Number(vm.LeadershipContributions)>=0&&Number(vm.LeadershipContributions)<=100)&&(Number(vm.LeadershipCertification)>=0&&Number(vm.LeadershipCertification)<100)&&(Number(vm.LeadershipTechnical)+Number(vm.LeadershipContributions)+Number(vm.LeadershipCertification)==100)){vm.validationResultleader=true}else{vm.validationResultleader=false};});$scope.$watch('vm.L5Technical+vm.L5Contributions+vm.L5Certification',function(){if((Number(vm.L5Technical)+Number(vm.L5Contributions)+Number(vm.L5Certification)==100)){vm.validationResult5=true}else{vm.validationResult5=false};});$scope.$watch('vm.L6Technical+vm.L6Contributions+vm.L6Certification',function(){if((Number(vm.L6Technical)+Number(vm.L6Contributions)+Number(vm.L6Certification)==100)){vm.validationResult6=true}else{vm.validationResult6=false};});$scope.$watch('vm.L7Technical+vm.L7Contributions+vm.L7Certification',function(){if((Number(vm.L7Technical)+Number(vm.L7Contributions)+Number(vm.L7Certification)==100)){vm.validationResult7=true}else{vm.validationResult7=false};});$scope.$watch('vm.L8Technical+vm.L8Contributions+vm.L8Certification',function(){if((Number(vm.L8Technical)+Number(vm.L8Contributions)+Number(vm.L8Certification)==100)){vm.validationResult8=true}else{vm.validationResult8=false};});$scope.$watch('vm.L9Technical+vm.L9Contributions+vm.L9Certification',function(){if((Number(vm.L9Technical)+Number(vm.L9Contributions)+Number(vm.L9Certification)==100)){vm.validationResult9=true}else{vm.validationResult9=false};});$scope.$watch('vm.L10Technical+vm.L10Contributions+vm.L10Certification',function(){if((Number(vm.L10Technical)+Number(vm.L10Contributions)+Number(vm.L10Certification)==100)){vm.validationResult10=true}else{vm.validationResult10=false};});$scope.$watch('vm.L11Technical+vm.L11Contributions+vm.L11Certification',function(){if((Number(vm.L11Technical)+Number(vm.L11Contributions)+Number(vm.L11Certification)==100)){vm.validationResult11=true}else{vm.validationResult11=false};});$scope.$watch('vm.L12Technical+vm.L12Contributions+vm.L12Certification',function(){if((Number(vm.L12Technical)+Number(vm.L12Contributions)+Number(vm.L12Certification)==100)){vm.validationResult12=true}else{vm.validationResult12=false};});$scope.$watch('vm.L13Technical+vm.L13Contributions+vm.L13Certification',function(){if((Number(vm.L13Technical)+Number(vm.L13Contributions)+Number(vm.L13Certification)==100)){vm.validationResult13=true}else{vm.validationResult13=false};});vm.info={};vm.SG={};var sum=0;vm.result=true;vm.Save=function(SGCapMsID){vm.info.SGCapMsID=SGCapMsID;vm.info.P1=vm.totalSettingP1;vm.info.P2=vm.totalSettingP2;vm.info.P3=vm.totalSettingP3;vm.info.P4=vm.totalSettingP4;vm.info.P1Month=vm.expSettingP1;vm.info.P2Month=vm.expSettingP2;vm.info.P3Month=vm.expSettingP3;vm.info.P4Month=vm.expSettingP4;vm.info.PrimarySkill=vm.expSettingPri;vm.info.SecondarySkill=vm.expSettingSec;vm.info.WeightList=[{CareerLevelId:vm.LeadershipCareerLevelId,Technical:vm.LeadershipTechnical,Contributions:vm.LeadershipContributions,Certification:vm.LeadershipCertification},{CareerLevelId:vm.L5CareerLevelId,Technical:vm.L5Technical,Contributions:vm.L5Contributions,Certification:vm.L5Certification},{CareerLevelId:vm.L6CareerLevelId,Technical:vm.L6Technical,Contributions:vm.L6Contributions,Certification:vm.L6Certification},{CareerLevelId:vm.L7CareerLevelId,Technical:vm.L7Technical,Contributions:vm.L7Contributions,Certification:vm.L7Certification},{CareerLevelId:vm.L8CareerLevelId,Technical:vm.L8Technical,Contributions:vm.L8Contributions,Certification:vm.L8Certification},{CareerLevelId:vm.L9CareerLevelId,Technical:vm.L9Technical,Contributions:vm.L9Contributions,Certification:vm.L9Certification},{CareerLevelId:vm.L10CareerLevelId,Technical:vm.L10Technical,Contributions:vm.L10Contributions,Certification:vm.L10Certification},{CareerLevelId:vm.L11CareerLevelId,Technical:vm.L11Technical,Contributions:vm.L11Contributions,Certification:vm.L11Certification},{CareerLevelId:vm.L12CareerLevelId,Technical:vm.L12Technical,Contributions:vm.L12Contributions,Certification:vm.L12Certification},{CareerLevelId:vm.L13CareerLevelId,Technical:vm.L13Technical,Contributions:vm.L13Contributions,Certification:vm.L13Certification},];var str=JSON.stringify(vm.info);return dataservice.allcongif(str).then(function(data){bootbox.alert("Save successfully.")},function(error){$state.go('error')})};vm.SaveproCalWeight=function(TechW,ContW,CertW){sum=Number(TechW)+Number(ContW)+Number(CertW);if(sum==100){vm.info.selectedSG2=vm.selectedSG.SGCapMsID;vm.info.selectedlevel=vm.level.LevelID;vm.info.currentuser=vm.peoplekey;vm.isLoading=true;dataservice.SavePCC(vm.info).then(function(data){logger.success(constants.message.successSavingData);vm.isLoading=false;$scope.TotalForm.$setPristine()},function(error){if(error.Message=="Invalid EID"){vm.namePassedPCC=false}else{logger.error(constants.message.errorSavingData)}vm.isLoading=false})}else{vm.result=false};};vm.GetPCCData=function(levelid,mappid){if(angular.isDefined(levelid)&&angular.isDefined(mappid)){vm.isLoading=true;vm.noResultsPCC=false;return dataservice.GetPCCData(levelid,mappid).then(function(data){vm.info.TechW=data.TechWeightage;vm.info.ContW=data.ConWeightage;vm.info.CertW=data.CerWeightage;vm.info.ApprEnterpriseID=vm.enterprise;vm.isLoading=false;$scope.TechForm.$setPristine()},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false}).then(function(){if(vm.info.ApprEnterpriseID!=''&&angular.isDefined(vm.info.ApprEnterpriseID)){dataservice.checkResource(vm.info.ApprEnterpriseID).then(function(data){if(data.exists==true){vm.namePassedPCC=true;vm.noResultsPCC=false}else{vm.noResultsPCC=true;vm.namePassedPCC=false;vm.messagePCC=constants.message.approverNotActive}vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false})}else{vm.isLoading=false}})}else{if(!angular.isDefined(levelid)&&angular.isDefined(mappid)){vm.info.TechW=null;vm.info.ContW=null;vm.info.CertW=null;vm.info.ApprEnterpriseID=null;vm.isLoading=false;$scope.TechForm.$setPristine()}else if(!angular.isDefined(mappid)&&angular.isDefined(levelid)){vm.info.TechW=null;vm.info.ContW=null;vm.info.CertW=null;vm.info.ApprEnterpriseID=null;vm.isLoading=false;$scope.TechForm.$setPristine()};};};vm.searchResourcePCC=function(val){var obj={EnterpriseID:val};vm.namePassedPCC=false;vm.noResultsPCC=false;return dataservice.getResource(obj).then(function(data){if(data.length!=0){return $.map(data,function(item){if(item.EnterpriseID==val){vm.namePassedPCC=true}return item.EnterpriseID})}else{vm.noResultsPCC=true;vm.messagePCC=constants.message.noResultsFound;vm.namePassedPCC=false}},function(error){logger.error(constants.message.errorSavingData)})};vm.selectNamePCC=function(){vm.namePassedPCC=true;vm.noResultsPCC=false};vm.clear=function(){vm.tablevalidation=false;vm.totalSettingP1=null;vm.totalSettingP2=null;vm.totalSettingP3=null;vm.totalSettingP4=null;$scope.TotalForm.$setPristine();vm.expSettingP1=null;vm.expSettingP2=null;vm.expSettingP3=null;vm.expSettingP4=null;vm.expSettingPri=null;vm.expSettingSec=null;vm.selectedCap=null;vm.selectedSG=null;$scope.ExperienceForm.$setPristine();$scope.TableForm.$setPristine();vm.LeadershipTechnical=null;vm.LeadershipContributions=null;vm.LeadershipCertification=null;vm.LeadershipCareerLevelId=null;vm.L5Technical=null;vm.L5Contributions=null;vm.L5Certification=null;vm.L5CareerLevelId=null;vm.L6Technical=null;vm.L6Contributions=null;vm.L6Certification=null;vm.L6CareerLevelId=null;vm.L7Technical=null;vm.L7Contributions=null;vm.L7Certification=null;vm.L7CareerLevelId=null;vm.L8Technical=null;vm.L8Contributions=null;vm.L8Certification=null;vm.L8CareerLevelId=null;vm.L9Technical=null;vm.L9Contributions=null;vm.L9Certification=null;vm.L9CareerLevelId=null;vm.L10Technical=null;vm.L10Contributions=null;vm.L10Certification=null;vm.L10CareerLevelId=null;vm.L11Technical=null;vm.L11Contributions=null;vm.L11Certification=null;vm.L11CareerLevelId=null;vm.L12Technical=null;vm.L12Contributions=null;vm.L12Certification=null;vm.L12CareerLevelId=null;vm.L13Technical=null;vm.L13Contributions=null;vm.L13Certification=null;vm.L13CareerLevelId=null};vm.clickT=true;vm.click=function(){vm.clickT=true;vm.clickF=false;vm.clickTx=false;vm.clickFx=true;vm.clickTxe=false;vm.clickFxe=true};vm.clickx=function(){vm.clickT=false;vm.clickF=true;vm.clickTx=true;vm.clickFx=false;vm.clickTxe=false;vm.clickFxe=true};vm.clickxe=function(){vm.clickT=false;vm.clickF=true;vm.clickTx=false;vm.clickFx=false;vm.clickTxe=true;vm.clickFxe=false}};})();(function(){angular.module('app.proficiencyconfig').run(appRun);appRun.$inject=['routerHelper'];function appRun(routerHelper){var adminvalidition="No";angular.forEach(Links,function(data){if(data.LinkName=="Config"){adminvalidition="Yes"}});if(adminvalidition=="Yes"){routerHelper.configureStates(getStates())}else{routerHelper.configureStates(getStateshome())}}function getStates(){return[{state:'proficiencyconfig',config:{url:'/proficiencyconfig',templateUrl:'app/proficiencyconfig/proficiencyconfig.html',controller:'proficiencyconfigController',controllerAs:'vm',title:'Configuration',requireADLogin:false}}]}function getStateshome(){return[{state:'myMultiSkillGroupforproficiency',config:{url:'/myMultiSkillGroup',templateUrl:'app/multiSkillGroup/myMultiSkillGroup.html',controller:'myMultiSkillGroupController',controllerAs:'vm',title:'myMultiSkillGroup',requireADLogin:false}}]}})();(function(){angular.module('app.master').controller('masterController',masterController);masterController.$inject=['$q','dataservice','logger','$scope','app.constants','$state','authservice','$interval'];function masterController($q,dataservice,logger,$scope,constants,$state,authservice,$interval){var vm=this;vm.isLoading=true;vm.peoplekey=constants.global.peopleKey;vm.coreSkillCount=0;vm.mandatorySkillCount=0;vm.electiveSkillCount=0;vm.corePage=1;vm.mandatoryPage=1;vm.electivePage=1;vm.mandatoryTotalPage=1;vm.electiveTotalPage=1;vm.itemPerPage=10;vm.selectedCap=null;vm.selectedSG=null;vm.titlemandatory=null;vm.titleelective=null;vm.titleCore=null;vm.selectedCapid=0;var Nitializationrid=null;var Nitializationrtype='C';var uservalidation="RCLC";getCapleaderViewSkills();function getCapleaderViewSkills(){vm.isLoading=true;vm.modalLoading=true;vm.errordata=false;return dataservice.getCapleaderViewSkills(uservalidation).then(function(data){if(data.length>0){vm.selectedCap=data[0];vm.selectedCapid=data[0].SkillID}else{vm.modalLoading=false;vm.errormsg=constants.message.noMultiskill;vm.errordata=true;vm.isLoading=false}vm.capability=data;vm.isLoading=false},function(error){if(error.Message=="error:Haven't permission"){vm.modalLoading=false;vm.errormsg=constants.message.noPermission;vm.errordata=true}else if(error.Message=="Authorization has been denied for this request."){vm.modalLoading=false;vm.errormsg=constants.message.noPermission;vm.errordata=true}else{$state.go('error')}vm.isLoading=false}).then(function(){if(vm.selectedCapid!=0){vm.getMSGroup(vm.selectedCapid)}})}vm.getMSGroup=function(capabilityid){vm.isLoading=true;if(angular.isDefined(vm.currentCap)&&vm.currentCap!=capabilityid){};if(angular.isDefined(capabilityid)){clean();vm.currentCap=capabilityid;dataservice.GetMultiSkillRoleList(capabilityid).then(function(data){vm.msgroup=data},function(error){logger.error(constants.message.errorLoadingData)});vm.corePage=1;dataservice.postQuerySkillList(capabilityid,Nitializationrid,Nitializationrtype,vm.corePage).then(function(data){vm.data=data[0];vm.core=vm.data.SkillType;vm.titleCore=vm.data.Skillhier;vm.currentCore=vm.data.Skillhier;vm.coreSkillCount=vm.data.SkillCount;pagecount();vm.isLoading=false},function(error){$state.go('error');vm.isLoading=false})}else if(capabilityid==null){vm.coreSkillCount=0;vm.currentCore=null;vm.coreTotalPage=1;vm.titleCore=null;clean();vm.isLoading=false}};vm.getTotalSetting=function(capabilityid,roleid){vm.isLoading=true;if(angular.isDefined(roleid)){dataservice.postQueryALLSkillList(capabilityid,roleid,'All',1).then(function(data){vm.mandatorydata=data[1];vm.electivedata=data[2];vm.mandatory=vm.mandatorydata.SkillType;vm.elective=vm.electivedata.SkillType;vm.currentmandatory=vm.mandatorydata.Skillhier;vm.titlemandatory=vm.mandatorydata.Skillhier;vm.currentelective=vm.electivedata.Skillhier;vm.titleelective=vm.electivedata.Skillhier;vm.mandatorySkillCount=vm.mandatorydata.SkillCount;vm.electiveSkillCount=vm.electivedata.SkillCount;vm.data=data[0];vm.core=vm.data.SkillType;vm.titleCore=vm.data.Skillhier;vm.currentCore=vm.data.Skillhier;vm.coreSkillCount=vm.data.SkillCount;pagecount();vm.isLoading=false},function(error){logger.error(constants.message.errorLoadingData);vm.isLoading=false})}if(roleid==null){clean();vm.isLoading=false}};$scope.$watch('vm.corePage',function(){if(vm.selectedCap!==null){vm.getCurrentCore(vm.selectedCap.SkillID,0,'C',vm.corePage)}});$scope.$watch('vm.mandatoryPage',function(){if(vm.selectedCap!==null&&vm.selectedSG!==null){vm.getCurrentmandatory(vm.selectedCap.SkillID,vm.selectedSG.MSGroupMasterID,'ALL',vm.mandatoryPage)}});$scope.$watch('vm.electivePage',function(){if(vm.selectedCap!==null&&vm.selectedSG!==null){vm.getCurrentelective(vm.selectedCap.SkillID,vm.selectedSG.MSGroupMasterID,'ALL',vm.electivePage)}});vm.getCurrentCore=function(capabilityid,roleid,type,page){return dataservice.postQuerySkillList(capabilityid,roleid,type,page).then(function(data){if(data.length>0){vm.currentCore=data[0].Skillhier}}),function(){$state.go('error')}};vm.getCurrentmandatory=function(capabilityid,roleid,type,page){return dataservice.postQueryALLSkillList(capabilityid,roleid,type,page).then(function(data){vm.currentmandatory=data[1].Skillhier}),function(){$state.go('error')}};vm.getCurrentelective=function(capabilityid,roleid,type,page){return dataservice.postQueryALLSkillList(capabilityid,roleid,type,page).then(function(data){vm.currentelective=data[2].Skillhier}),function(){$state.go('error')}};function clean(){vm.selectedSG=null;vm.titlemandatory=null;vm.titleelective=null;vm.mandatoryTotalPage=1;vm.electiveTotalPage=1;vm.currentmandatory=null;vm.currentelective=null;vm.electiveSkillCount=0;vm.mandatorySkillCount=0}function pagecount(){vm.coreTotalPage=Math.max(Math.ceil(vm.coreSkillCount/vm.itemPerPage)||0,1);vm.mandatoryTotalPage=Math.max(Math.ceil(vm.mandatorySkillCount/vm.itemPerPage)||0,1);vm.electiveTotalPage=Math.max(Math.ceil(vm.electiveSkillCount/vm.itemPerPage)||0,1)}}})();(function(){angular.module('app.master').run(appRun);appRun.$inject=['routerHelper'];function appRun(routerHelper){var adminvalidition="No";angular.forEach(Links,function(data){if(data.LinkName=="ViewDetails"||data.LinkName=="ViewDetailsForAdmin"){adminvalidition="Yes"}});if(adminvalidition=="Yes"){routerHelper.configureStates(getStates())}else{routerHelper.configureStates(getStateshome())}}function getStates(){return[{state:'master',config:{url:'/master',templateUrl:'app/master/master.html',controller:'masterController',controllerAs:'vm',title:'Master',requireADLogin:false}}]}function getStateshome(){return[{state:'master2',config:{url:'/myMultiSkillGroup',templateUrl:'app/multiSkillGroup/myMultiSkillGroup.html',controller:'myMultiSkillGroupController',controllerAs:'vm',title:'Home',requireADLogin:false}}]}})();(function(){angular.module('app.widgets').directive('htWidgetHeader',htWidgetHeader);function htWidgetHeader(){var directive={scope:{title:'@',showprof:'@',proficiency:'@',profdesc:'@',allowCollapse:'@',showmore:'='},templateUrl:'app/widgets/widget-header.html',restrict:'EA'};return directive}angular.module('app.widgets').directive('htWidgetMinimize',function(){var directive={link:link,template:'<i class="fa fa-chevron-up"></i>',restrict:'A'};return directive;function link(scope,element,attrs){attrs.$set('href','#');attrs.$set('wminimize');element.click(minimize);function minimize(e){e.preventDefault();var $wcontent=element.parent().parent().parent().next('.widget-content');var iElement=element.children('i');if($wcontent.is(':visible')){iElement.removeClass('fa fa-chevron-up');iElement.addClass('fa fa-chevron-down')}else{iElement.removeClass('fa fa-chevron-down');iElement.addClass('fa fa-chevron-up')}$wcontent.toggle(500)}}})})()